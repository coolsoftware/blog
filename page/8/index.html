<!DOCTYPE HTML>
<html lang="ru">
<head>
  <meta charset="utf-8">
  
  <title>Страница 8 | Cool Software Blog</title>
  <meta name="author" content="Vitaly Yakovlev">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Cool Software Blog"/>

  
    <meta property="og:image" content=""/>
  

  <link rel="shortcut icon" href="/favicon.png">
  
    <link rel="alternate" href="/atom.xml" title="Cool Software Blog" type="application/atom+xml">
  
  
<link rel="stylesheet" href="/css/style.css">

  <!--[if lt IE 9]><script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script><![endif]-->
  
<script>
	if (document.location.hostname !== '127.0.0.1' && document.location.hostname !== 'localhost' && !document.location.hostname.endsWith('.local')) {
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

		ga('create', 'G-1NW15MMZVJ', 'auto');
		ga('send', 'pageview');
	}
</script>


<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header id="header" class="inner"><div id="title-wrapper">
  <div class="alignleft">
    <div id="title"><a href="/"><img src="/images/coolsoftware-blog.png" /></a></div>
    <h2><a href="/">Записки программиста</a></h2>
  </div>
  <nav id="main-nav" class="alignright">
    <ul>
      
        
        <li><a href="/archives">Архив</a></li>
      
        
        <li><a href="/search"><span class="menuicon"></span></a></li>
      
        
        <li><a href="/atom.xml" target="_blank"><span class="menuicon"></span></a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article id="post-throttling" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2014-11-29T10:11:00.000Z"><a href="/2014/11/throttling/">2014-11-29</a></time>
      
      
  
    <h1 class="title"><a href="/2014/11/throttling/">Throttling</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p><em>Троттлинг (throttling)</em> - это регулирование (ограничение) скорости какого-нибудь процесса. Например, <em>bandwidth throttling</em> - регулирование пропускной способности канала (обычно измеряется в килобайтах в секунду, kB&#x2F;s).  </p>
<p>В листинге ниже показано, как можно реализовать троттлинг.  </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">throttle_acquire</span>()); <span class="comment">//цикл ожидания</span></span><br><span class="line">    <span class="built_in">doWork</span>(); <span class="comment">//выпоняем работу</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>В этом примере процесс состоит из 1000 итераций. Каждая итерация заключается в вызове функции doWork(), которая, например, отправляет очередную порцию данных. Ограничение скорости заключается в введении лимита на количество этих вызовов N за период времени dT. Перед вызовом doWork() осуществляется проверка превышения лимита: функция throttle_acquire() возвращает false, если лимит превышен, и true, в противном случае.  </p>
<p>Троттлинг можно реализовать с использованием <a target="_blank" rel="noopener" href="https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BB%D1%8C%D1%86%D0%B5%D0%B2%D0%BE%D0%B9_%D0%B1%D1%83%D1%84%D0%B5%D1%80">кольцевого буфера</a>. Этот кольцевой буфер заполняется моментами времени последних вызовов функции doWork() (см пример выше). Размер буфера равен максимально разрешенному количеству этих вызовов N за период времени dT. Если буфер полностью заполнен, то функция acquire() возвращает false. Это означает, что необходимо подождать, пока из буфера не будет удален хотя бы один момент времени, который располагается от текущего момента (“сейчас”) дальше, чем dT.  </p>
<p>Реализацию троттлинга на C++ (throttle.h)  я выложил на github: <a target="_blank" rel="noopener" href="https://github.com/coolsoftware/Throttle">https://github.com/coolsoftware/Throttle</a>.  </p>
<p>Пример использования класса <em>throttle</em> можно посмотреть в TestThrottle.cpp.  </p>
<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/cpp/">cpp</a>, <a href="/tags/%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC/">алгоритм</a>, <a href="/tags/github/">github</a>, <a href="/tags/throttle/">throttle</a>, <a href="/tags/throttling/">throttling</a>, <a href="/tags/%D1%82%D1%80%D0%BE%D1%82%D1%82%D0%BB%D0%B8%D0%BD%D0%B3/">троттлинг</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-zlib-visual-studio-2010" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2014-11-27T16:02:00.000Z"><a href="/2014/11/zlib-visual-studio-2010/">2014-11-27</a></time>
      
      
  
    <h1 class="title"><a href="/2014/11/zlib-visual-studio-2010/">Сборка zlib в Visual Studio 2010</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>1. Скачиваем zlib 1.2.8 с <a target="_blank" rel="noopener" href="http://www.zlib.net/">http://www.zlib.net/</a><br>2. Распаковываем архив в c:\zlib-1.2.8<br>3. Открываем в Visual Studio 2010 проект C:\zlib-1.2.8\contrib\vstudio\vc10\zlibvc.sln<br>4. Меняем следующие настройки проекта zlibstat:  </p>
<p>  Конфигурация Debug:  </p>
<p>    General-&gt;Output Directory: **..\..\..\win32-MDd\**<br>    General-&gt;Intermediate Directory: **..\..\..\win32-MDd\Tmp\**<br>    C&#x2F;C++-&gt;Preprocessor-&gt;Preprocessor Definitions: &lt;удаляем **ZLIB_WINAPI**&gt;<br>    C&#x2F;C++-&gt;Code Generation-&gt;Runtime Library: <strong>Multi-threaded Debug DLL (&#x2F;MDd)</strong><br>    Librarian-&gt;General-&gt;Output File: <strong>$(OutDir)\..\zlibMDd.lib</strong>  </p>
<p>  Конфигурация Release:  </p>
<p>    General-&gt;Output Directory: **..\..\..\win32-MT\**<br>    General-&gt;Intermediate Directory: **..\..\..\win32-MT\Tmp\**<br>    C&#x2F;C++-&gt;Preprocessor-&gt;Preprocessor Definitions: &lt;удаляем **ZLIB_WINAPI**&gt;<br>    C&#x2F;C++-&gt;Code Generation-&gt;Runtime Library: <strong>Multi-threaded (&#x2F;MT)</strong><br>    Librarian-&gt;General-&gt;Output File: <strong>$(OutDir)\..\zlibMT.lib</strong><br>   <br>5. Собираем Debug и Release версии zlibstat. На выходе получаем:  </p>
<p>  C:\zlib-1.2.8\zlibMDd.lib<br>  C:\zlib-1.2.8\zlibMT.lib  </p>
<p>6. Открываем в Visual Studio 2010 любой проект C++ и открываем Property Manager-&gt;(Project Name)-&gt;Debug | Win32-&gt;Microsoft.Cpp.Win32.user-&gt;Common Properties-&gt;VC++ Directories. Добавляем c:\zlib-1.2.8 в Include Directories, Library Direcories и Source Directories.  </p>
<p><a target="_blank" rel="noopener" href="http://2.bp.blogspot.com/-JfK1474NEAQ/VHdKsR46ehI/AAAAAAAAAPE/DLEOzwUBEZU/s1600/zlib.png"><img src="http://2.bp.blogspot.com/-JfK1474NEAQ/VHdKsR46ehI/AAAAAAAAAPE/DLEOzwUBEZU/s1600/zlib.png"></a></p>
<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/cpp/">cpp</a>, <a href="/tags/visual-studio-2010/">Visual Studio 2010</a>, <a href="/tags/zlib/">zlib</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-rsa-c" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2014-05-29T17:13:00.000Z"><a href="/2014/05/rsa-c/">2014-05-29</a></time>
      
      
  
    <h1 class="title"><a href="/2014/05/rsa-c/">Генерация пар открытых/закрытых ключей (RSA) на C#</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Понадобилось мне создать пару открытый&#x2F;закрытый ключ на C#. Я поискал немного и нашел замечательную криптографическую библиотеку под названием Bouncy Castle: <a target="_blank" rel="noopener" href="https://www.bouncycastle.org/">https://www.bouncycastle.org/</a>. Для C# исходники можно скачать здесь: <a target="_blank" rel="noopener" href="http://www.bouncycastle.org/csharp/">http://www.bouncycastle.org/csharp/</a>. Ниже описан порядок установки и использования.  </p>
<ol>
<li><p>Качаем bccrypto-net-1.7-src.zip, распаковываем в какой-нибудь каталог на диске.</p>
</li>
<li><p>Открываем проект csharp.sln в Visual Studio 2010.</p>
</li>
<li><p>В свойствах проекта crypto в Build-&gt;General-&gt;Conditional compilation symbols комментируем INCLUDE_IDEA.  </p>
<p><a target="_blank" rel="noopener" href="http://3.bp.blogspot.com/-vhWW_yv95co/U4ckjLlh7ZI/AAAAAAAAAOQ/BGqnXiFDGYQ/s1600/crypto1.png"><img src="http://3.bp.blogspot.com/-vhWW_yv95co/U4ckjLlh7ZI/AAAAAAAAAOQ/BGqnXiFDGYQ/s1600/crypto1.png"></a></p>
<div class="separator" style="clear: both; text-align: center;"></div></li>
<li><p>Пробуем выполнить Build и видим ошибки:<br>error CS1504: Source file ‘C:\temp\csharp\crypto\src\crypto\engines\IDEAEngine.cs’ could not be opened (‘Неопознанная ошибка ‘)<br>error CS1504: Source file ‘C:\temp\csharp\crypto\test\src\crypto\test\IDEATest.cs’ could not be opened (‘Неопознанная ошибка ‘)<br>error CS1504: Source file ‘C:\temp\csharp\crypto\src\asn1\misc\IDEACBCPar.cs’ could not be opened (‘Неопознанная ошибка ‘)</p>
</li>
<li><p>Удаляем из проекта crypto отсутствующие файлы:<br>src\crypto\engines\IDEAEngine.cs<br>src\asn1\misc\IDEACBCPar.cs<br>test\src\crypto\test\IDEATest.cs</p>
</li>
<li><p>Пробуем еще раз выполнить Build - на этот раз все должно получиться и будет создана библиотека crypto.dll.</p>
</li>
<li><p>Прописываем созданную библиотеку в References проекта.  </p>
<p><a target="_blank" rel="noopener" href="http://4.bp.blogspot.com/-Jqy8eJsH5Qs/U4dlbpi5G-I/AAAAAAAAAOg/4L9JncCNtVc/s1600/ref-crypto.png"><img src="http://4.bp.blogspot.com/-Jqy8eJsH5Qs/U4dlbpi5G-I/AAAAAAAAAOg/4L9JncCNtVc/s1600/ref-crypto.png"></a></p>
</li>
<li><p>Код для генерации пары открытый&#x2F;закрытый ключ приведен ниже. Открытый ключ - в формате <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/PKCS_8">PKCS#8</a>. Закрытый ключ - в формате <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/PKCS_1">PKCS#1</a>.</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> Org.BouncyCastle.Asn1.Pkcs;</span><br><span class="line"><span class="keyword">using</span> Org.BouncyCastle.Asn1.X509;</span><br><span class="line"><span class="keyword">using</span> Org.BouncyCastle.Crypto;</span><br><span class="line"><span class="keyword">using</span> Org.BouncyCastle.Crypto.Parameters;</span><br><span class="line"><span class="keyword">using</span> Org.BouncyCastle.Pkcs;</span><br><span class="line"><span class="keyword">using</span> Org.BouncyCastle.Security;</span><br><span class="line"><span class="keyword">using</span> Org.BouncyCastle.X509;</span><br><span class="line"><span class="keyword">using</span> Org.BouncyCastle.Crypto.Generators;</span><br><span class="line"> </span><br><span class="line">RsaKeyPairGenerator rsa = <span class="keyword">new</span> RsaKeyPairGenerator();</span><br><span class="line">rsa.Init(<span class="keyword">new</span> KeyGenerationParameters(<span class="keyword">new</span> Org.BouncyCastle.Security.SecureRandom(), <span class="number">1024</span>));</span><br><span class="line">AsymmetricCipherKeyPair pair = rsa.GenerateKeyPair();</span><br><span class="line">PrivateKeyInfo privateKeyInfo = PrivateKeyInfoFactory.CreatePrivateKeyInfo(pair.Private);</span><br><span class="line"><span class="built_in">byte</span>[] serializedPrivateBytes = privateKeyInfo.PrivateKey.ToAsn1Object().GetDerEncoded();</span><br><span class="line"><span class="built_in">string</span> privateKey = Convert.ToBase64String(serializedPrivateBytes);</span><br><span class="line">SubjectPublicKeyInfo publicKeyInfo = SubjectPublicKeyInfoFactory.CreateSubjectPublicKeyInfo(pair.Public);</span><br><span class="line"><span class="built_in">byte</span>[] serializedPublicBytes = publicKeyInfo.ToAsn1Object().GetDerEncoded();</span><br><span class="line"><span class="built_in">string</span> publicKey = Convert.ToBase64String(serializedPublicBytes);</span><br></pre></td></tr></table></figure>

<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>
</li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/c/">C#</a>, <a href="/tags/visual-studio-2010/">Visual Studio 2010</a>, <a href="/tags/bouncy-castle/">Bouncy Castle</a>, <a href="/tags/rsa/">RSA</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-perl-c" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2014-04-21T05:35:00.000Z"><a href="/2014/04/perl-c/">2014-04-21</a></time>
      
      
  
    <h1 class="title"><a href="/2014/04/perl-c/">Вызов скриптов Perl из программы на C++</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Оказалось, что организовать вызов Perl-скриптов из C&#x2F;C++ (MS Visual C++ 2010) достаточно просто:  </p>
<ol>
<li><p>Прописываем в <strong>Include Directories</strong> и <strong>Library Directories</strong> проекта путь к Perl\CORE:  </p>
<p><a target="_blank" rel="noopener" href="http://4.bp.blogspot.com/-OYOOdJk7BRc/U1Sqhzph12I/AAAAAAAAANk/nEMVKTQBHkI/s1600/testperl1.png"><img src="http://4.bp.blogspot.com/-OYOOdJk7BRc/U1Sqhzph12I/AAAAAAAAANk/nEMVKTQBHkI/s1600/testperl1.png"></a></p>
</li>
<li><p>Добавляем perl512.lib в Linker-&gt;Input-&gt;<strong>Additional Dependencies</strong>.  </p>
<p><a target="_blank" rel="noopener" href="http://3.bp.blogspot.com/-Bm3RzTGOCe0/U1SryOnY5dI/AAAAAAAAANw/QqTHrJ9k2tA/s1600/testperl2.png"><img src="http://3.bp.blogspot.com/-Bm3RzTGOCe0/U1SryOnY5dI/AAAAAAAAANw/QqTHrJ9k2tA/s1600/testperl2.png"></a></p>
</li>
<li><p>Ниже приведен пример кода, вызывающего perl из консольного приложения C++. Обращу внимание на два момента: a) <strong>#pragma warning (disable:4005)</strong> для подавления сообщения компилятора “<strong>‘ENOTSOCK’ : macro redefinition</strong>“; b) если опустить вызов <strong>PERL_SYS_INIT(0, NULL)</strong>, то на шаге perl_parse получим <strong>Access Violation</strong>.  </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stdafx.h&quot;</span></span></span><br><span class="line"><span class="comment">//avoid warning C4005: &#x27;ENOTSOCK&#x27; : macro redefinition</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _MSC_VER</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> <span class="keyword">warning</span> ( disable : 4005 )</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> </span></span><br><span class="line"> </span><br><span class="line">PerlInterpreter *my_perl;</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> _tmain(<span class="type">int</span> argc, _TCHAR* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">PERL_SYS_INIT</span>(<span class="number">0</span>, <span class="literal">NULL</span>);</span><br><span class="line"> </span><br><span class="line">    my_perl = <span class="built_in">perl_alloc</span>();</span><br><span class="line">    <span class="built_in">perl_construct</span>(my_perl);</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">perl_parse</span>(my_perl, <span class="literal">NULL</span>, argc, argv, <span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">perl_run</span>(my_perl);</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">perl_destruct</span>(my_perl);</span><br><span class="line">    <span class="built_in">perl_free</span>(my_perl);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/cpp/">cpp</a>, <a href="/tags/perl/">Perl</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-blog-post" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2014-01-24T11:11:00.000Z"><a href="/2014/01/blog-post/">2014-01-24</a></time>
      
      
  
    <h1 class="title"><a href="/2014/01/blog-post/">Дерево Интервалов (Отрезков)</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Я уже несколько раз сталкивался с необходимостью решать следующую задачу: есть список интервалов и нужно найти один или все интервалы, в которые входит заданное значение. Пример: есть список диапазонов IP-адресов, каждому диапазону присвоен двух-буквенный код страны. Требуется для заданного IP-адреса определить страну.  </p>
<p>Когда интервалов не много, то можно обойтись полным перебором (brute-force). Но когда их несколько десятков тысяч, а искать приходится часто, то нужна оптимизация.  </p>
<p>Подходящая структура для быстрого поиска в списке интервалов называется “Дерево Интервалов” (Interval Tree) или “Дерево Отрезков”. Хорошее описание (англ.), а также пример реализации я нашел тут: <a target="_blank" rel="noopener" href="http://www.drdobbs.com/cpp/interval-trees/184401179">http://www.drdobbs.com/cpp/interval-trees/184401179</a>.  </p>
<h3 id="Теория"><a href="#Теория" class="headerlink" title="Теория"></a>Теория</h3><p>Коротко описание структуры дерева отрезков и алгоритма поиска приведу на примере: пусть есть список именованных отрезков:  </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a=[75, 76], b=[75, 79], c=[75, 84],</span><br><span class="line">d=[76, 80], e=[79, 80], f=[79, 83],</span><br><span class="line">g=[79, 91], h=[80, 84], i=[80, 90],</span><br><span class="line">j=[83, 84], k=[84, 85], l=[91, 92],</span><br><span class="line">m=[91, 92]</span><br></pre></td></tr></table></figure>

<p>Выпишем координаты вершин отрезков, отсортированные по-возрастанию:  </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">X = &#123;75, 76, 79, 80, 83, 84, 85, 90, 91, 92&#125;</span><br></pre></td></tr></table></figure>

<p>Массив X содержит 10 элементов: X[0], X[1], …, X[9].<br>Возьмем среднее значение (медиану): 83 &#x3D; X[m], m &#x3D; (9-0) div 2.  </p>
<p>Возможны три варианта расположения отрезков относительно медианы:<br>1. отрезки, которые содержат медиану.<br>2. отрезки, которые лежат слева от медианы.<br>3. отрезки, которые лежат справа от медианы.  </p>
<p>Создадим узел дерева, который будет включать в себя значение медианы (дискриминант &#x3D; 83) и список всех отрезков, которые содержат медиану:  </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">R = &#123;83, [c, f, g, h, i, j]&#125;</span><br></pre></td></tr></table></figure>

<p>Оставшиеся отрезки слева от R: {a, b, d, e} и справа от R: {k, l, m}.  </p>
<p>Построим левый узел дерева для отрезков {a, b, d, e}, находящихся левее медианы, рассматривая вершины слева от медианы: {75, <strong>76</strong>, 79, 80}. Получим: O &#x3D; {76, [a, b, d]}.<br>Аналогично правый узел для отрезков {k, l, m} и вершин {84, 85, <strong>90</strong>, 91, 92}: U &#x3D; {90, []}. Обратите внимание на возможность существования узлов, не содержащих отрезков.<br>Продолжая процесс рекурсивно, получим следующие узлы:<br>N &#x3D; {75, []}, P &#x3D; {79, [e]}, S &#x3D; {84, [k]}, V &#x3D; {91, [l, m]}, Q &#x3D; {80, []}, T &#x3D; {85, []}, W &#x3D; {92, []}.  </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">      R</span><br><span class="line">   /     \</span><br><span class="line">  O       U</span><br><span class="line"> / \     / \</span><br><span class="line">N   P   S   V</span><br><span class="line">     \   \   \</span><br><span class="line">      Q   T   W</span><br></pre></td></tr></table></figure>

<div class="separator" style="clear: both; text-align: left;">Висячие вершины N, Q, T и W можно убрать. Окончательно получим дерево:</div>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">     R</span><br><span class="line">   /   \</span><br><span class="line">  O     U</span><br><span class="line">   \   / \</span><br><span class="line">    P S   V</span><br></pre></td></tr></table></figure>

<p>Алгоритм поиска выглядит следующим образом. Начинаем с вершины дерева. Сравниваем дискриминант текущего узла с искомым значением q. Если они равны (случай 1), то выводим все отрезки, на которые указывает текущий узел, и завершаем процесс. Если дискриминант текущего узла больше, чем q (случай 2), то перебираем все отрезки, на которые указывает текущий узел, и выводим такие, которые содержат q. Затем переходим к левому узлу. Если дискриминант текущего узла меньше, чем q (случай 3), то аналогично перебираем все отрезки текущего узла и выводим те, которые содержат q, а затем переходим к правому узлу.  </p>
<p>В двух последних случаях (когда дискриминант узла не равен q) нужен перебор отрезков, на которые указывает узел. Этот перебор можно оптимизировать, если иметь два отсортированных массива отрезков: первый массив AL должен быть отсортирован по возрастанию левой (меньшей) координаты отрезка, а второй массив DH должен быть отсортирован по убыванию правой (большей) координаты отрезка. Для узла R из нашего примера:  </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">AL = &#123;c, f, g, h, i, j&#125;</span><br><span class="line">DH = &#123;g, i, j, h, c, f&#125;</span><br></pre></td></tr></table></figure>

<p>Тогда, если дискриминант узла больше q (случай 2), то перебираем отрезки из массива AL до тех пор, пока левая координата отрезка  не будет больше q. Если дискриминант узла меньше q (случай 2), то перебираем отрезки из массива DH до тех пор, пока правая координата отрезка не будет меньше q.  </p>
<h3 id="Практика"><a href="#Практика" class="headerlink" title="Практика"></a>Практика</h3><p>Реализацию дерева интервалов можно взять на github: <a target="_blank" rel="noopener" href="https://github.com/coolsoftware/ITree">https://github.com/coolsoftware/ITree</a>.<br>Класс itree в itree.h.  </p>
<p>За основу я взял реализацию Yogi Dandass, в которую добавил некоторые недостающие (ommited) определения, исправил пару багов и существенно оптимизировал построение дерева (метод construct_tree).  </p>
<p><strong>Баг 1</strong> в методе itree::construct_tree. Код ниже вызывал выход за границы массива.  </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">std::<span class="built_in">sort</span>(&amp;(al[list_start]),</span><br><span class="line">    &amp;(al[list_start + list_size]), comp_for_al);</span><br><span class="line">std::<span class="built_in">sort</span>(&amp;(dh[list_start]),</span><br><span class="line">    &amp;(dh[list_start + list_size]), comp_for_dh);</span><br></pre></td></tr></table></figure>

<p>Он заменен на следующее:  </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">std::<span class="built_in">sort</span>(al.<span class="built_in">begin</span>()+list_start,</span><br><span class="line">  al.<span class="built_in">begin</span>()+list_start+list_size,</span><br><span class="line">  comp_for_al);</span><br><span class="line">std::<span class="built_in">sort</span>(dh.<span class="built_in">begin</span>()+list_start,</span><br><span class="line">  dh.<span class="built_in">begin</span>()+list_start+list_size,</span><br><span class="line">  comp_for_dh);</span><br></pre></td></tr></table></figure>

<p><strong>Баг 2</strong> в методе query_iterator::init_node. Если value &#x3D;&#x3D; cur_node-&gt;discrim, то требуется проверка, что cur_node-&gt;size !&#x3D; 0, а иначе возможен выход за границы массива.  </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">init_node</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    index = <span class="number">0</span>;        </span><br><span class="line">    <span class="keyword">while</span> (cur_node != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (value &lt; cur_node-&gt;discrim)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> ((cur_node-&gt;size != <span class="number">0</span>) &amp;&amp;</span><br><span class="line">                ((*p_al)[cur_node-&gt;start]-&gt;<span class="built_in">low</span>() &lt;= value))</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cur_node = cur_node-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (value &gt; cur_node-&gt;discrim)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> ((cur_node-&gt;size != <span class="number">0</span>) &amp;&amp;</span><br><span class="line">                ((*p_dh)[cur_node-&gt;start]-&gt;<span class="built_in">high</span>() &gt;= value))</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cur_node = cur_node-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="comment">//(value == cur_node-&gt;discrim)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (cur_node-&gt;size == <span class="number">0</span>) <span class="comment">//VIT 2014 bugfix!</span></span><br><span class="line">            &#123;</span><br><span class="line">                cur_node = <span class="literal">NULL</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/cpp/">cpp</a>, <a href="/tags/%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC/">алгоритм</a>, <a href="/tags/github/">github</a>, <a href="/tags/interval-tree/">Interval Tree</a>, <a href="/tags/itree/">itree</a>, <a href="/tags/%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D0%BE-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D0%B0%D0%BB%D0%BE%D0%B2/">дерево интервалов</a>, <a href="/tags/%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D0%BE-%D0%BE%D1%82%D1%80%D0%B5%D0%B7%D0%BA%D0%BE%D0%B2/">дерево отрезков</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-locklib-update" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2013-12-25T12:29:00.000Z"><a href="/2013/12/locklib-update/">2013-12-25</a></time>
      
      
  
    <h1 class="title"><a href="/2013/12/locklib-update/">LockLib update</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Обновился LockLib на GitHub: <a target="_blank" rel="noopener" href="https://github.com/coolsoftware/LockLib">https://github.com/coolsoftware/LockLib</a>.  </p>
<p>1. Классы <strong>VLock</strong>, <strong>VRWLock</strong>, <strong>VLockPtr</strong>, <strong>VReadLockPtr</strong>, <strong>VWriteLockPtr</strong> теперь “uncopyable”, то есть их нельзя скопировать (см. Листинг 1: Ошибка 1 и Ошибка 2). Запрет на копирование осуществляется путем наследования этих классов от <strong>VUncopyable</strong>. При компиляции кода, содержащего запрещенное копирование, будет выдано сообщение ошибке:</p>
<p>VLock.h(62): error C2248: ‘VUncopyable::VUncopyable’ : cannot access private member declared in class ‘VUncopyable’  </p>
<p>2. Конструктор класса <strong>VRWLock</strong> объявлен с ключевым словом <strong>explicit</strong> для того, чтобы исключить неявное создание экземпляра этого класса при вызове функции (см. Листинг 1: Ошибка 3). При компиляции кода, содержащего такое неявное создание <strong>VRWLock</strong>, будет выдано сообщение об ошибке:  </p>
<p>TestLock.cpp(184): error C2664: ‘RWFunc’ : cannot convert parameter 1 from ‘int’ to ‘const VRWLock &amp;’<br>          Reason: cannot convert from ‘int’ to ‘const VRWLock’<br>          Constructor for class ‘VRWLock’ is declared ‘explicit’  </p>
<p><strong>Листинг. 1.</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">RWFunc</span><span class="params">(<span class="type">const</span> VRWLock&amp;)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//do something here</span></span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125; </span><br><span class="line">    </span><br><span class="line">VLock lock1;</span><br><span class="line">VLock lock2 = lock1; <span class="comment">//Ошибка 1</span></span><br><span class="line">VRWLock rwlock1;</span><br><span class="line">VRWLock rwlock2 = rwlock1; <span class="comment">//Ошибка 2</span></span><br><span class="line"><span class="built_in">RWFunc</span>(<span class="number">1</span>); <span class="comment">//Ошибка 3</span></span><br></pre></td></tr></table></figure>

<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/cpp/">cpp</a>, <a href="/tags/github/">github</a>, <a href="/tags/locklib/">LockLib</a>, <a href="/tags/uncopyable/">uncopyable</a>, <a href="/tags/vlock/">VLock</a>, <a href="/tags/vrwlock/">VRWLock</a>, <a href="/tags/vuncopyable/">VUncopyable</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-locklib" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2013-12-20T07:16:00.000Z"><a href="/2013/12/locklib/">2013-12-20</a></time>
      
      
  
    <h1 class="title"><a href="/2013/12/locklib/">LockLib</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p><strong>LockLib</strong> это набор классов для организации доступа к разделяемым ресурсам в программе на C++ под Windows.<br>Исходники доступны на GitHub: <a target="_blank" rel="noopener" href="https://github.com/coolsoftware/LockLib">https://github.com/coolsoftware/LockLib</a>.  </p>
<h3 id="class-VLock"><a href="#class-VLock" class="headerlink" title="class VLock"></a>class VLock</h3><p>Класс <strong>VLock</strong> используется как альтернатива CRITICAL_SECTION (на самом деле это “обертка” над CRITICAL_SECTION).  </p>
<h4 id="void-Lock-int-lPosition-volatile-LONG-lpThreadLock-x3D-NULL"><a href="#void-Lock-int-lPosition-volatile-LONG-lpThreadLock-x3D-NULL" class="headerlink" title="void Lock(int lPosition, volatile LONG * lpThreadLock &#x3D; NULL)"></a>void Lock(int lPosition, volatile LONG * lpThreadLock &#x3D; NULL)</h4><p>Блокировка ресурса для монопольного использования. Если ресурс уже кем-то заблокирован, то происходит ожидание когда ресурс снова станет свободен и его удастся заблокировать.  </p>
<p>Параметр <strong><em>lPosition</em></strong> служит для идентификации места вызова метода <strong>Lock</strong> и может использоваться при отладке.  </p>
<p>Необязательный параметр <strong><em>lpThreadLock</em></strong> служит для подсчета вызовов метода <strong>Lock</strong> в текущем потоке. Подробности смотрите ниже в разделе посвященном <strong><em>lpThreadLock</em></strong>.  </p>
<h4 id="void-Unlock-volatile-LONG-lpThreadLock-x3D-NULL"><a href="#void-Unlock-volatile-LONG-lpThreadLock-x3D-NULL" class="headerlink" title="void Unlock(volatile LONG * lpThreadLock &#x3D; NULL)"></a>void Unlock(volatile LONG * lpThreadLock &#x3D; NULL)</h4><p>Снятие блокировки.  </p>
<h4 id="static-void-OutputDebugLocks"><a href="#static-void-OutputDebugLocks" class="headerlink" title="static void OutputDebugLocks()"></a>static void OutputDebugLocks()</h4><p>При отладке и оптимизации приложений иногда нужно видеть список всех существующих блокировок и статистику по ним: сколько в данный момент активных блокировок, в каком месте они заблокированы. Посмотреть такую статистику можно вызвав <strong>OutputDebugLocks</strong>. Эта статистика доступна в Debug-версии приложении, когда объявлен _DEBUG, или когда объявлен макрос DEBUG_LOCK.  </p>
<h4 id="volatile-LONG-lpThreadLock"><a href="#volatile-LONG-lpThreadLock" class="headerlink" title="volatile LONG * lpThreadLock"></a><em>volatile LONG * lpThreadLock</em></h4><p>Проблема с блокировками в много-поточном приложении связана с тем, что поток, который установил блокировку, может быть остановлен с помощью <strong>TerminateThread</strong>. В этом случае <strong>Unlock</strong> не будет вызван никогда и блокировка ресурса “повиснет”, а другие потоки, которые попытаются заблокировать этот ресурс, также “повиснут”.<br>Чтобы разрулить эту ситуацию, необходимо вести подсчет блокировок для каждого потока и вызывать <strong>Unlock</strong> после <strong>TerminateThread</strong>.  </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">VLock lock;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">int</span> __stdcall <span class="title">LockThreadProc</span><span class="params">(<span class="type">void</span> * lpParam)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    lock.<span class="built_in">Lock</span>(<span class="number">1</span>, <span class="built_in">reinterpret_cast</span>(lpParam)); <span class="comment">//lock resource</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">//do something here</span></span><br><span class="line"> </span><br><span class="line">    lock.<span class="built_in">Unlock</span>( <span class="built_in">reinterpret_cast</span>(lpParam)); <span class="comment">//unlock resource</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">//contuinue working</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="class-VRWLock"><a href="#class-VRWLock" class="headerlink" title="class VRWLock"></a>class VRWLock</h3><p>Класс <strong>VRWLock</strong> позволяет реализовать стратегию блокировки ресурса “один писатель - много читателей”.  </p>
<h4 id="VRWLock-LONG-lMaxReaders-x3D-65535-DWORD-dwSpinCount-x3D-1000-DWORD-dwTimeout-x3D-5"><a href="#VRWLock-LONG-lMaxReaders-x3D-65535-DWORD-dwSpinCount-x3D-1000-DWORD-dwTimeout-x3D-5" class="headerlink" title="VRWLock(LONG lMaxReaders &#x3D; 65535, DWORD dwSpinCount &#x3D; 1000, DWORD dwTimeout &#x3D; 5)"></a>VRWLock(LONG lMaxReaders &#x3D; 65535, DWORD dwSpinCount &#x3D; 1000, DWORD dwTimeout &#x3D; 5)</h4><p>Конструктор класса <strong>VRWLock</strong> имеет следующие параметры:</p>
<p><em><strong>lMaxReaders</strong></em> - максимальное количество читателей, которые могут одновременно читать ресурс (не должно быть &#x3D; 0!). Значение по-умолчанию 65535.</p>
<p><strong><em>dwSpinCount</em></strong> - количество неудачных попыток блокировки ресурса (занятого), после которых происходит <a target="_blank" rel="noopener" href="http://ru.wikipedia.org/wiki/%D0%9F%D0%B5%D1%80%D0%B5%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%B0">переключение контекста</a> с небольшой задержкой, определяемой параметром <em><strong>dwTimeout</strong></em> (в миллисекундах).  </p>
<h4 id="void-LockRead-int-lPosition-volatile-LONG-lpThreadLock-x3D-NULL"><a href="#void-LockRead-int-lPosition-volatile-LONG-lpThreadLock-x3D-NULL" class="headerlink" title="void LockRead(int lPosition, volatile LONG * lpThreadLock &#x3D; NULL)"></a>void LockRead(int lPosition, volatile LONG * lpThreadLock &#x3D; NULL)</h4><p>Блокировка ресурса читателем. Если ресурс занят писателем или превышено максимальное количество читателей, то происходит ожидание освобождения ресурса, когда удастся его заблокировать. Смотрите описание параметров в описании метода <strong>Lock</strong> класса <strong>VLock</strong>.  </p>
<h4 id="void-LockWrite-int-lPosition-volatile-LONG-lpThreadLock-x3D-NULL"><a href="#void-LockWrite-int-lPosition-volatile-LONG-lpThreadLock-x3D-NULL" class="headerlink" title="void LockWrite(int lPosition, volatile LONG * lpThreadLock &#x3D; NULL)"></a>void LockWrite(int lPosition, volatile LONG * lpThreadLock &#x3D; NULL)</h4><p>Блокировка ресурса писателем. Если ресурс занят писателем или одним или несколькими читателями, то происходит ожидание освобождения ресурса, когда удастся его заблокировать. Смотрите описание параметров в описании метода <strong>Lock</strong> класса <strong>VLock</strong>.  </p>
<h4 id="void-ReLockWrite-int-lPosition-volatile-LONG-lpThreadLock-x3D-NULL"><a href="#void-ReLockWrite-int-lPosition-volatile-LONG-lpThreadLock-x3D-NULL" class="headerlink" title="void ReLockWrite(int lPosition, volatile LONG * lpThreadLock &#x3D; NULL)"></a>void ReLockWrite(int lPosition, volatile LONG * lpThreadLock &#x3D; NULL)</h4><p>Изменение статуса блокировки с читателя на писателя. Если ресурс не занят ни читателем ни писателем, то действие функции аналогично <strong>LockWrite</strong> (блокировка писателем). Если ресурс занят одним читателем, то происходит переключение его статуса с читателя на писателя. Если ресурс занят писателем или более чем одним читателем, то происходит ожидание момента, когда ресурс будет не занят писателями и занят не более чем одним читателем. Смотрите описание параметров в описании метода <strong>Lock</strong> класса <strong>VLock</strong>.  </p>
<h4 id="void-Unlock-volatile-LONG-lpThreadLock-x3D-NULL-1"><a href="#void-Unlock-volatile-LONG-lpThreadLock-x3D-NULL-1" class="headerlink" title="void Unlock(volatile LONG * lpThreadLock &#x3D; NULL)"></a>void Unlock(volatile LONG * lpThreadLock &#x3D; NULL)</h4><p>Снятие блокировки.  </p>
<h4 id="static-void-OutputDebugLocks-1"><a href="#static-void-OutputDebugLocks-1" class="headerlink" title="static void OutputDebugLocks()"></a>static void OutputDebugLocks()</h4><p>Вывод статистики блокировок (см. выше описание одноименного метода для класса <strong>VLock</strong>).  </p>
<h3 id="class-VLockPtr-class-VReadLockPtr-class-VWriteLockPtr"><a href="#class-VLockPtr-class-VReadLockPtr-class-VWriteLockPtr" class="headerlink" title="class VLockPtr, class VReadLockPtr, class VWriteLockPtr"></a>class VLockPtr, class VReadLockPtr, class VWriteLockPtr</h3><p>Есть такая идиома: RAII - <a target="_blank" rel="noopener" href="http://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B5%D1%81%D1%83%D1%80%D1%81%D0%B0_%D0%B5%D1%81%D1%82%D1%8C_%D0%B8%D0%BD%D0%B8%D1%86%D0%B8%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F">захват ресурса есть инициализация</a>. Суть ее в следующем: создается класс-обертка такой, что в конструкторе класса вызывается соответствующая функция блокировки ресурса, а в деструкторе блокировка снимается. Это удобно по двум причинам:</p>
<ol>
<li>Нет необходимости делать явный вызов Unlock (а это часто, как показывает практика, забывают сделать).</li>
<li>В случае возбуждения исключения между вызовами Lock и Unlock ресурс может оказаться занят “навсегда”. А при использования RAII, деструктор класса-обертки, а следовательно и Unlock, будет вызван и в случае исключительной ситуации.</li>
</ol>
<p><strong>VLockPtr</strong> - RAII класс-обертка над <strong>VLock</strong>.</p>
<p><strong>VReadLockPtr</strong> - RAII класс-обертка над <strong>VRWLock::LockRead</strong>.</p>
<p><strong>VWriteLockPtr</strong> - RAII класс-обертка над <strong>VRWLock::LockWrite</strong>.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">int</span> __stdcall <span class="title">LockPtrThreadProc</span><span class="params">(<span class="type">void</span> * lpParam)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">VLockPtr <span class="title">lockptr</span><span class="params">(&amp;lock, <span class="number">1</span>, <span class="keyword">reinterpret_cast</span>(lpParam))</span></span>; <span class="comment">//lock resource</span></span><br><span class="line"> </span><br><span class="line">        <span class="comment">//do something here</span></span><br><span class="line"> </span><br><span class="line">    &#125; <span class="comment">//unlock will be done here</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">//contuinue working</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>=&#x3D;&#x3D;</p>
<p>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/cpp/">cpp</a>, <a href="/tags/%D0%BF%D0%B8%D1%81%D0%B0%D1%82%D0%B5%D0%BB%D0%B8/">Писатели</a>, <a href="/tags/%D1%87%D0%B8%D1%82%D0%B0%D1%82%D0%B5%D0%BB%D0%B8/">Читатели</a>, <a href="/tags/github/">github</a>, <a href="/tags/locklib/">LockLib</a>, <a href="/tags/vlock/">VLock</a>, <a href="/tags/vrwlock/">VRWLock</a>, <a href="/tags/raii/">RAII</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-failure-during-conversion-to-coff-file" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2013-11-29T04:33:00.000Z"><a href="/2013/11/failure-during-conversion-to-coff-file/">2013-11-29</a></time>
      
      
  
    <h1 class="title"><a href="/2013/11/failure-during-conversion-to-coff-file/">Failure during conversion to COFF: file invalid or corrupt</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Вылезла сегодня с утра ошибка при компиляции любого проекта в  Visual Studio 2010:  </p>
<p><strong>LINK : fatal error LNK1123: failure during conversion to COFF: file invalid or corrupt</strong>  </p>
<p>Установка в свойствах проекта Linker-&gt;Enable Incremental Linking значения NO (&#x2F;INCREMENTAL:NO) на помогла.  </p>
<p>Полез смотреть, что же поменялось за последнее время. Оказалось вечером с авто-обновлениями винды поставился .NET Framework 4.5.1. Он то и нагадил!  </p>
<p>1. Снес .NET Framework 4.5.1. Visual Studio перестал запускаться.<br>2. Установил .NET 4.0. Visual Studio починился, все проекты стали компилироваться нормально.<br>3. Слетел Mysql .Net Connector. Переустановил. Причем, Repair не помог, сделал сперва Remove, потом Install.  </p>
<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/net/">.NET</a>, <a href="/tags/visual-studio-2010/">Visual Studio 2010</a>, <a href="/tags/failure/">failure</a>, <a href="/tags/microsoft/">Microsoft</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-mysql-myini" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2013-07-26T12:51:00.000Z"><a href="/2013/07/mysql-myini/">2013-07-26</a></time>
      
      
  
    <h1 class="title"><a href="/2013/07/mysql-myini/">MySQL не видит my.ini</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Понадобилось мне поднять max_connections в MySQL, который по-умолчанию был установлен инсталлером в C:\Program Files\MySQL\MySQL Server 5.6.<br>В этом каталоге лежит my-default.ini, который я переименовал в my.ini и прописал в нем max_connections&#x3D;250. Перезапустил сервис MySQL - не работает! select @@max_connections возвращает 100. Не видит MySQL моего my.ini.<br>Полчаса потратил на поиски откуда же MySQL читает настройки. Поэтому и решил написать это сообщение здесь - вдруг кому-нибудь поможет и сэкономит время.  </p>
<p><a target="_blank" rel="noopener" href="http://1.bp.blogspot.com/-4lOAFIHTemo/UfJwBcqQX6I/AAAAAAAAAG4/1qLFTApy97o/s1600/mysqld.png"><img src="http://1.bp.blogspot.com/-4lOAFIHTemo/UfJwBcqQX6I/AAAAAAAAAG4/1qLFTApy97o/s400/mysqld.png"></a></p>
<p>Оказывается сервис запускается с параметром –defaults-file&#x3D;”C:\ProgramData\MySQL\MySQL Server 5.6\my.ini”. Вот, значит, где находится my.ini.  </p>
<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/max-connections/">max_connections</a>, <a href="/tags/my-ini/">my.ini</a>, <a href="/tags/mysql/">mysql</a>, <a href="/tags/windows/">windows</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-perlvcbuildscripts" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2013-06-15T12:29:00.000Z"><a href="/2013/06/perlvcbuildscripts/">2013-06-15</a></time>
      
      
  
    <h1 class="title"><a href="/2013/06/perlvcbuildscripts/">PerlVCBuildScripts</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Выложил на github perl-скрипты, которые я использую для автоматического изменения номера билда в проектах на Visual C++, а также генерации файлов xxx-build.txt с информацией о версии и контрольной суммой (MD5). Взять можно тут: <a target="_blank" rel="noopener" href="https://github.com/coolsoftware/PerlVCBuildScripts">https://github.com/coolsoftware/PerlVCBuildScripts</a>  </p>
<p>Использовать просто:  </p>
<ol>
<li>Нужно создать файл с информацией о билде (build-файл) в каталоге Release (где будет создан exe или dll). Например, мой проект называется HTTPGet, имя исполняемого (генерируемого) файла HTTPGet.exe, значит имя build-файла должно быть HTTPGet-build.txt. Вот как выглядит структура каталогов проекта:</li>
</ol>
<p>HTTPGet \<br>  HTTPGet.sln<br>  HTTPGet.aspr<br>  Release \<br>    HTTPGet-build.txt<br>    HTTPGet.exe  </p>
<p>Содержимое build-файла должно быть таким:  </p>
<p>1.0.0.0<br><a target="_blank" rel="noopener" href="http://127.0.0.1/HTTPGet.exe">http://127.0.0.1/HTTPGet.exe</a><br>HTTPGet.exe<br>b9f2c07999dcafe9fe544a00521829c1  </p>
<p>Первая строка - версия приложения (будет автоматически обновляться при сборке).<br>Вторая строка - URL для скачки последней версии.<br>Третья строка - имя файла.<br>Четвертая строка - MD5-подпись (будет автоматически обновляться при сборке).</p>
<p>Я использую build-файлы в функции авто-обновления в приложениях. Реализацию этой функции я выложу как-нибудь позже.  </p>
<ol start="2">
<li>Нужно прописать в Pre-Build Event-&gt;Command Line вызов:</li>
</ol>
<p>perl $(ProjectDir)..\incbuild.pl $(ProjectDir) $(Configuration)  </p>
<p><a target="_blank" rel="noopener" href="http://2.bp.blogspot.com/-_I0RRuemW5k/UbxXQltC6OI/AAAAAAAAAGg/ERg-7kavYus/s1600/incbuild.png"><img src="http://2.bp.blogspot.com/-_I0RRuemW5k/UbxXQltC6OI/AAAAAAAAAGg/ERg-7kavYus/s640/incbuild.png"></a></p>
<p>а в Post-Build Event-&gt;Command Line прописать:  </p>
<p>perl $(ProjectDir)..\makebuildinfo.pl $(TargetPath)  </p>
<p><a target="_blank" rel="noopener" href="http://2.bp.blogspot.com/-3HY6flCPb_o/UbxXjm8tSDI/AAAAAAAAAGo/sZvmF5ZS7Zg/s1600/makebuildinfo.png"><img src="http://2.bp.blogspot.com/-3HY6flCPb_o/UbxXjm8tSDI/AAAAAAAAAGo/sZvmF5ZS7Zg/s640/makebuildinfo.png"></a></p>
<p>Если вы используете ASProtect для упаковки&#x2F;защиты приложения, то можно прописать путь к вашему ASPR-проекту, чтобы ASProtect был вызван автоматически при сборке:  </p>
<p>perl $(ProjectDir)..\makebuildinfo.pl $(TargetPath) $(ProjectDir)..\$(TargetName).aspr  </p>
<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/cpp/">cpp</a>, <a href="/tags/github/">github</a>, <a href="/tags/auto-increment/">auto-increment</a>, <a href="/tags/build/">build</a>, <a href="/tags/version/">version</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
    <a href="/page/7/" class="alignleft prev">Назад</a>
  
  
    <a href="/page/9/" class="alignright next">Вперед</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  

<div class="widget tag">
    <h3 class="title">Контакты</h3>
    <div class="entry">
        
<div class="contactlink githublink">
    <div class="icon"></div>
    <a target="_blank" rel="noopener" href="https://github.com/coolsoftware/">github.com/coolsoftware</a>
</div>

    </div>
</div>


  

<div class="widget tag">
    <h3 class="title">Избранные сообщения</h3>
    <div class="entry">
        
<div>
    <a href="/tags/%D0%BF%D0%BE%D0%BB%D0%B5%D0%B7%D0%BD%D1%8B%D0%B5-%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8/">Полезные ссылки</a>
</div>

<div>
    <a href="/tags/howto/">Howto</a>
</div>

<div>
    <a href="/2021/01/blog-post/">Музыка</a>
</div>

<div>
    <a href="/tags/%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC/">Алгоритм</a>
</div>

<div>
    <a href="/2022/01/nodejs/">В одну строку</a>
</div>

<div>
    <a href="/tags/hsk/">HSK</a>
</div>

    </div>
</div>


  

  
<div class="widget tagcloud">
  <h3 class="title">Облако меток</h3>
  <div class="entry">
    <a href="/tags/net/" style="font-size: 11.11px;">.NET</a> <a href="/tags/0xe06d7363/" style="font-size: 10px;">0xe06d7363</a> <a href="/tags/32/" style="font-size: 10px;">32</a> <a href="/tags/404/" style="font-size: 10px;">404</a> <a href="/tags/64/" style="font-size: 11.11px;">64</a> <a href="/tags/ahci/" style="font-size: 10px;">AHCI</a> <a href="/tags/asp/" style="font-size: 11.11px;">ASP</a> <a href="/tags/asprotect/" style="font-size: 11.11px;">ASProtect</a> <a href="/tags/asus/" style="font-size: 10px;">ASUS</a> <a href="/tags/access-violation/" style="font-size: 10px;">Access Violation</a> <a href="/tags/active-server-pages/" style="font-size: 10px;">Active Server Pages</a> <a href="/tags/amazon/" style="font-size: 10px;">Amazon</a> <a href="/tags/angular/" style="font-size: 10px;">Angular</a> <a href="/tags/apache/" style="font-size: 11.11px;">Apache</a> <a href="/tags/bootstrap/" style="font-size: 10px;">Bootstrap</a> <a href="/tags/bouncy-castle/" style="font-size: 10px;">Bouncy Castle</a> <a href="/tags/c/" style="font-size: 12.22px;">C#</a> <a href="/tags/com/" style="font-size: 10px;">COM</a> <a href="/tags/centos/" style="font-size: 15.56px;">CentOS</a> <a href="/tags/cookie/" style="font-size: 10px;">Cookie</a> <a href="/tags/createprocess/" style="font-size: 10px;">CreateProcess</a> <a href="/tags/dst/" style="font-size: 10px;">DST</a> <a href="/tags/designer/" style="font-size: 10px;">Designer</a> <a href="/tags/desktop/" style="font-size: 10px;">Desktop</a> <a href="/tags/driver/" style="font-size: 10px;">Driver</a> <a href="/tags/ec2/" style="font-size: 10px;">EC2</a> <a href="/tags/eosio/" style="font-size: 10px;">EOSIO</a> <a href="/tags/enhanced-security/" style="font-size: 10px;">Enhanced Security</a> <a href="/tags/git/" style="font-size: 10px;">Git.</a> <a href="/tags/iis/" style="font-size: 11.11px;">IIS</a> <a href="/tags/insert/" style="font-size: 10px;">INSERT</a> <a href="/tags/icons/" style="font-size: 11.11px;">Icons</a> <a href="/tags/interval-tree/" style="font-size: 10px;">Interval Tree</a> <a href="/tags/java/" style="font-size: 10px;">Java</a> <a href="/tags/lazarus/" style="font-size: 10px;">Lazarus</a> <a href="/tags/linux/" style="font-size: 13.33px;">Linux</a> <a href="/tags/locklib/" style="font-size: 11.11px;">LockLib</a> <a href="/tags/md4/" style="font-size: 10px;">MD4</a> <a href="/tags/md5/" style="font-size: 10px;">MD5</a> <a href="/tags/mdb-access/" style="font-size: 10px;">MDB Access</a> <a href="/tags/mac/" style="font-size: 10px;">Mac</a> <a href="/tags/microsoft/" style="font-size: 10px;">Microsoft</a> <a href="/tags/mikrotik/" style="font-size: 10px;">MikroTik</a> <a href="/tags/minidlna/" style="font-size: 11.11px;">MiniDLNA</a> <a href="/tags/netbeans/" style="font-size: 10px;">NetBeans</a> <a href="/tags/node-js/" style="font-size: 11.11px;">Node.js</a> <a href="/tags/oracle/" style="font-size: 11.11px;">Oracle</a> <a href="/tags/php/" style="font-size: 12.22px;">PHP</a> <a href="/tags/pl-sql/" style="font-size: 10px;">PL/SQL</a> <a href="/tags/parseservercookie/" style="font-size: 10px;">ParseServerCookie</a> <a href="/tags/performance/" style="font-size: 10px;">Performance</a> <a href="/tags/perl/" style="font-size: 10px;">Perl</a> <a href="/tags/python/" style="font-size: 10px;">Python</a> <a href="/tags/qstring/" style="font-size: 10px;">QString</a> <a href="/tags/qt/" style="font-size: 13.33px;">Qt</a> <a href="/tags/raii/" style="font-size: 10px;">RAII</a> <a href="/tags/rsa/" style="font-size: 10px;">RSA</a> <a href="/tags/raspberry-pi/" style="font-size: 13.33px;">Raspberry Pi</a> <a href="/tags/react/" style="font-size: 10px;">React</a> <a href="/tags/redis/" style="font-size: 10px;">Redis</a> <a href="/tags/refresh/" style="font-size: 10px;">Refresh</a> <a href="/tags/sax/" style="font-size: 12.22px;">SAX</a> <a href="/tags/seh/" style="font-size: 10px;">SEH</a> <a href="/tags/selinux/" style="font-size: 10px;">SELinux</a> <a href="/tags/sql/" style="font-size: 11.11px;">SQL</a> <a href="/tags/schematron/" style="font-size: 11.11px;">Schematron</a> <a href="/tags/shelliconoverlayidentifiers/" style="font-size: 10px;">ShellIconOverlayIdentifiers</a> <a href="/tags/skype/" style="font-size: 10px;">Skype</a> <a href="/tags/teredo/" style="font-size: 10px;">Teredo</a> <a href="/tags/tinker-board/" style="font-size: 10px;">Tinker Board</a> <a href="/tags/tortoisegit/" style="font-size: 10px;">TortoiseGit</a> <a href="/tags/unhandled-exception/" style="font-size: 10px;">Unhandled Exception</a> <a href="/tags/vhashedstringlist/" style="font-size: 11.11px;">VHashedStringList</a> <a href="/tags/vlock/" style="font-size: 11.11px;">VLock</a> <a href="/tags/vrwlock/" style="font-size: 11.11px;">VRWLock</a> <a href="/tags/vuncopyable/" style="font-size: 10px;">VUncopyable</a> <a href="/tags/verqueryvalue/" style="font-size: 10px;">VerQueryValue</a> <a href="/tags/visial-studio/" style="font-size: 10px;">Visial Studio</a> <a href="/tags/visual-c/" style="font-size: 10px;">Visual C++</a> <a href="/tags/visual-studio-2010/" style="font-size: 13.33px;">Visual Studio 2010</a> <a href="/tags/wcf/" style="font-size: 10px;">WCF</a> <a href="/tags/when/" style="font-size: 10px;">WHEN</a> <a href="/tags/wsdl/" style="font-size: 10px;">WSDL</a> <a href="/tags/web-service/" style="font-size: 10px;">Web Service</a> <a href="/tags/wi-fi/" style="font-size: 10px;">Wi-Fi</a> <a href="/tags/xe-2/" style="font-size: 11.11px;">XE 2</a> <a href="/tags/xe2/" style="font-size: 11.11px;">XE2</a> <a href="/tags/xml/" style="font-size: 12.22px;">XML</a> <a href="/tags/xsd/" style="font-size: 12.22px;">XSD</a> <a href="/tags/tchar/" style="font-size: 10px;">_TCHAR</a> <a href="/tags/throwinfo/" style="font-size: 10px;">_ThrowInfo</a> <a href="/tags/aggregate/" style="font-size: 10px;">aggregate</a> <a href="/tags/aggregation/" style="font-size: 10px;">aggregation</a> <a href="/tags/android/" style="font-size: 11.11px;">android</a> <a href="/tags/api/" style="font-size: 10px;">api</a> <a href="/tags/apk/" style="font-size: 10px;">apk</a> <a href="/tags/arm/" style="font-size: 11.11px;">arm</a> <a href="/tags/artificial-intelligence/" style="font-size: 11.11px;">artificial intelligence</a> <a href="/tags/auto-increment/" style="font-size: 10px;">auto-increment</a> <a href="/tags/avahi/" style="font-size: 11.11px;">avahi</a> <a href="/tags/bash/" style="font-size: 10px;">bash</a> <a href="/tags/best-practices/" style="font-size: 10px;">best practices</a> <a href="/tags/bigdata/" style="font-size: 10px;">bigdata</a> <a href="/tags/blog/" style="font-size: 10px;">blog</a> <a href="/tags/blogger/" style="font-size: 10px;">blogger</a> <a href="/tags/blogspot/" style="font-size: 10px;">blogspot</a> <a href="/tags/books/" style="font-size: 10px;">books</a> <a href="/tags/boost/" style="font-size: 11.11px;">boost</a> <a href="/tags/bug/" style="font-size: 11.11px;">bug</a> <a href="/tags/build/" style="font-size: 11.11px;">build</a> <a href="/tags/builder/" style="font-size: 10px;">builder</a> <a href="/tags/certificate/" style="font-size: 11.11px;">certificate</a> <a href="/tags/chinese/" style="font-size: 13.33px;">chinese</a> <a href="/tags/code/" style="font-size: 10px;">code</a> <a href="/tags/comments/" style="font-size: 10px;">comments</a> <a href="/tags/console/" style="font-size: 10px;">console</a> <a href="/tags/cpp/" style="font-size: 18.89px;">cpp</a> <a href="/tags/cryptoapi/" style="font-size: 10px;">cryptoapi</a> <a href="/tags/dataset/" style="font-size: 10px;">dataset</a> <a href="/tags/deep-learning/" style="font-size: 10px;">deep learning</a> <a href="/tags/delphi/" style="font-size: 16.67px;">delphi</a> <a href="/tags/development/" style="font-size: 10px;">development</a> <a href="/tags/dll/" style="font-size: 11.11px;">dll</a> <a href="/tags/eclipse/" style="font-size: 10px;">eclipse</a> <a href="/tags/ethereum/" style="font-size: 14.44px;">ethereum</a> <a href="/tags/exception/" style="font-size: 10px;">exception</a> <a href="/tags/exe/" style="font-size: 10px;">exe</a> <a href="/tags/failure/" style="font-size: 10px;">failure</a> <a href="/tags/fast-insert/" style="font-size: 11.11px;">fast insert</a> <a href="/tags/faucet/" style="font-size: 10px;">faucet</a> <a href="/tags/ffmpeg/" style="font-size: 10px;">ffmpeg</a> <a href="/tags/ftp/" style="font-size: 10px;">ftp</a> <a href="/tags/geth/" style="font-size: 10px;">geth</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitalk/" style="font-size: 10px;">gitalk</a> <a href="/tags/github/" style="font-size: 16.67px;">github</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/google/" style="font-size: 13.33px;">google</a> <a href="/tags/hexo/" style="font-size: 11.11px;">hexo</a> <a href="/tags/highlight/" style="font-size: 10px;">highlight</a> <a href="/tags/howto/" style="font-size: 17.78px;">howto</a> <a href="/tags/hsk/" style="font-size: 12.22px;">hsk</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/indy/" style="font-size: 11.11px;">indy</a> <a href="/tags/ipv6/" style="font-size: 10px;">ipv6</a> <a href="/tags/itree/" style="font-size: 10px;">itree</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/lib/" style="font-size: 10px;">lib</a> <a href="/tags/light-plus/" style="font-size: 10px;">light-plus</a> <a href="/tags/links/" style="font-size: 10px;">links</a> <a href="/tags/lol/" style="font-size: 12.22px;">lol</a> <a href="/tags/mdns/" style="font-size: 10px;">mDNS</a> <a href="/tags/machine-learning/" style="font-size: 12.22px;">machine learning</a> <a href="/tags/max-connections/" style="font-size: 10px;">max_connections</a> <a href="/tags/mist/" style="font-size: 10px;">mist</a> <a href="/tags/mkdocs/" style="font-size: 10px;">mkdocs</a> <a href="/tags/mkv/" style="font-size: 10px;">mkv</a> <a href="/tags/mongo/" style="font-size: 12.22px;">mongo</a> <a href="/tags/mp4/" style="font-size: 10px;">mp4</a> <a href="/tags/my-ini/" style="font-size: 10px;">my.ini</a> <a href="/tags/mysql/" style="font-size: 11.11px;">mysql</a> <a href="/tags/nodejs/" style="font-size: 11.11px;">nodejs</a> <a href="/tags/oddeven/" style="font-size: 10px;">oddeven</a> <a href="/tags/openssl/" style="font-size: 11.11px;">openssl</a> <a href="/tags/openvpn/" style="font-size: 11.11px;">openvpn</a> <a href="/tags/pagination/" style="font-size: 10px;">pagination</a> <a href="/tags/pip/" style="font-size: 10px;">pip</a> <a href="/tags/plugin/" style="font-size: 10px;">plugin</a> <a href="/tags/pypi/" style="font-size: 10px;">pypi</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/random/" style="font-size: 10px;">random</a> <a href="/tags/reac/" style="font-size: 10px;">reac</a> <a href="/tags/rinkeby/" style="font-size: 11.11px;">rinkeby</a> <a href="/tags/rpi/" style="font-size: 11.11px;">rpi</a> <a href="/tags/search/" style="font-size: 11.11px;">search</a> <a href="/tags/smart-contract/" style="font-size: 13.33px;">smart contract</a> <a href="/tags/sqlite/" style="font-size: 11.11px;">sqlite</a> <a href="/tags/ssl/" style="font-size: 12.22px;">ssl</a> <a href="/tags/string/" style="font-size: 11.11px;">string</a> <a href="/tags/test/" style="font-size: 10px;">test</a> <a href="/tags/testing/" style="font-size: 10px;">testing</a> <a href="/tags/theme/" style="font-size: 10px;">theme</a> <a href="/tags/throttle/" style="font-size: 10px;">throttle</a> <a href="/tags/throttling/" style="font-size: 10px;">throttling</a> <a href="/tags/tinkerboard/" style="font-size: 11.11px;">tinkerboard</a> <a href="/tags/trick/" style="font-size: 10px;">trick</a> <a href="/tags/trie/" style="font-size: 11.11px;">trie</a> <a href="/tags/tuning/" style="font-size: 11.11px;">tuning</a> <a href="/tags/tutorial/" style="font-size: 11.11px;">tutorial</a> <a href="/tags/uncopyable/" style="font-size: 10px;">uncopyable</a> <a href="/tags/version/" style="font-size: 10px;">version</a> <a href="/tags/video/" style="font-size: 10px;">video</a> <a href="/tags/vpn/" style="font-size: 10px;">vpn</a> <a href="/tags/web-development-design/" style="font-size: 10px;">web development & design</a> <a href="/tags/web3/" style="font-size: 10px;">web3</a> <a href="/tags/windows/" style="font-size: 15.56px;">windows</a> <a href="/tags/wsl2/" style="font-size: 11.11px;">wsl2</a> <a href="/tags/youtube/" style="font-size: 10px;">youtube</a> <a href="/tags/zlib/" style="font-size: 10px;">zlib</a> <a href="/tags/%D0%B3%D1%81%D1%87/" style="font-size: 10px;">ГСЧ</a> <a href="/tags/%D0%BF%D0%B8%D1%81%D0%B0%D1%82%D0%B5%D0%BB%D0%B8/" style="font-size: 11.11px;">Писатели</a> <a href="/tags/%D1%81%D1%85%D0%B5%D0%BC%D0%B0%D1%82%D1%80%D0%BE%D0%BD/" style="font-size: 10px;">Схематрон</a> <a href="/tags/%D1%87%D0%B8%D1%82%D0%B0%D1%82%D0%B5%D0%BB%D0%B8/" style="font-size: 11.11px;">Читатели</a> <a href="/tags/%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC/" style="font-size: 14.44px;">алгоритм</a> <a href="/tags/%D0%B0%D0%BD%D0%B5%D0%BA%D0%B4%D0%BE%D1%82%D1%8B/" style="font-size: 11.11px;">анекдоты</a> <a href="/tags/%D0%B1%D0%B0%D0%B3/" style="font-size: 10px;">баг</a> <a href="/tags/%D0%B1%D0%BB%D0%BE%D0%B3/" style="font-size: 11.11px;">блог</a> <a href="/tags/%D0%B1%D0%BB%D0%BE%D0%B3%D0%B8/" style="font-size: 10px;">блоги</a> <a href="/tags/%D0%B1%D0%BE%D1%80/" style="font-size: 11.11px;">бор</a> <a href="/tags/%D0%B1%D1%8B%D1%81%D1%82%D1%80%D0%B0%D1%8F-%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B0/" style="font-size: 11.11px;">быстрая вставка</a> <a href="/tags/%D0%B2-%D0%BE%D0%B4%D0%BD%D1%83-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D1%83/" style="font-size: 10px;">в одну строку</a> <a href="/tags/%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE/" style="font-size: 10px;">видео</a> <a href="/tags/%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F/" style="font-size: 10px;">виртуальная функция</a> <a href="/tags/%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D0%BE-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D0%B0%D0%BB%D0%BE%D0%B2/" style="font-size: 10px;">дерево интервалов</a> <a href="/tags/%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D0%BE-%D0%BE%D1%82%D1%80%D0%B5%D0%B7%D0%BA%D0%BE%D0%B2/" style="font-size: 10px;">дерево отрезков</a> <a href="/tags/%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F/" style="font-size: 10px;">документация</a> <a href="/tags/%D0%B7%D0%B0%D1%80%D1%8F%D0%B4%D0%BA%D0%B0/" style="font-size: 10px;">зарядка</a> <a href="/tags/%D0%B8%D0%BA%D0%BE%D0%BD%D0%BA%D0%B8/" style="font-size: 10px;">иконки</a> <a href="/tags/%D0%B8%D1%81%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F/" style="font-size: 10px;">исключения</a> <a href="/tags/%D0%B9%D0%BE%D0%B3%D0%B0/" style="font-size: 10px;">йога</a> <a href="/tags/%D0%BA%D0%B8%D1%82%D0%B0%D0%B9%D1%81%D0%BA%D0%B8%D0%B9-%D1%8F%D0%B7%D1%8B%D0%BA/" style="font-size: 13.33px;">китайский язык</a> <a href="/tags/%D0%BA%D0%BD%D0%B8%D0%B3%D0%B8/" style="font-size: 10px;">книги</a> <a href="/tags/%D0%BA%D0%BE%D0%BC%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%80%D0%B8%D0%B8/" style="font-size: 10px;">комментарии</a> <a href="/tags/%D0%BA%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C/" style="font-size: 10px;">консоль</a> <a href="/tags/%D0%BA%D0%BE%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D0%BE%D1%80/" style="font-size: 10px;">конструктор</a> <a href="/tags/%D0%BA%D1%83%D0%BD%D0%B3%D1%84%D1%83/" style="font-size: 10px;">кунгфу</a> <a href="/tags/%D0%BC%D1%83%D0%B7%D1%8B%D0%BA%D0%B0/" style="font-size: 10px;">музыка</a> <a href="/tags/%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C/" style="font-size: 10px;">обновить</a> <a href="/tags/%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%BE%D1%88%D0%B8%D0%B1%D0%BE%D0%BA/" style="font-size: 10px;">обработка ошибок</a> <a href="/tags/%D0%BE%D0%B1%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5/" style="font-size: 10px;">обучение</a> <a href="/tags/%D0%BF%D0%B0%D1%80%D1%81%D0%B5%D1%80/" style="font-size: 11.11px;">парсер</a> <a href="/tags/%D0%BF%D0%B5%D1%80%D0%B5%D0%B5%D0%B7%D0%B4/" style="font-size: 10px;">переезд</a> <a href="/tags/%D0%BF%D0%BE%D0%B8%D1%81%D0%BA/" style="font-size: 10px;">поиск</a> <a href="/tags/%D0%BF%D0%BE%D0%BB%D0%B5%D0%B7%D0%BD%D1%8B%D0%B5-%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8/" style="font-size: 20px;">полезные ссылки</a> <a href="/tags/%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80/" style="font-size: 10px;">пример</a> <a href="/tags/%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0/" style="font-size: 10px;">проверка</a> <a href="/tags/%D1%81%D0%B2%D0%B0%D1%80%D0%BA%D0%B0/" style="font-size: 10px;">сварка</a> <a href="/tags/%D1%81%D0%BF%D0%BE%D1%80%D1%82/" style="font-size: 10px;">спорт</a> <a href="/tags/%D1%81%D1%82%D0%B8%D1%85%D0%B8/" style="font-size: 10px;">стихи</a> <a href="/tags/%D1%82%D0%B0%D0%B9%D1%86%D0%B7%D0%B8%D1%86%D1%8E%D0%B0%D0%BD%D1%8C/" style="font-size: 10px;">тайцзицюань</a> <a href="/tags/%D1%82%D1%80%D0%BE%D1%82%D1%82%D0%BB%D0%B8%D0%BD%D0%B3/" style="font-size: 10px;">троттлинг</a> <a href="/tags/%D1%85%D0%BE%D0%B1%D0%B1%D0%B8/" style="font-size: 11.11px;">хобби</a> <a href="/tags/%D1%86%D0%B8%D0%B3%D1%83%D0%BD/" style="font-size: 10px;">цигун</a> <a href="/tags/%D1%8E%D0%BC%D0%BE%D1%80/" style="font-size: 12.22px;">юмор</a>
  </div>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2025 Vitaly Yakovlev
  
</div>
<div class="clearfix"></div></footer>
  
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/jquery.imagesloaded.min.js"></script>


<script src="/js/gallery.js"></script>




<script src="/js/copy-code.js"></script>







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script src="/fancybox/jquery.fancybox.pack.js"></script>

<script>
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>
