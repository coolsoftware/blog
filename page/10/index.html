<!DOCTYPE HTML>
<html lang="ru">
<head>
  <meta charset="utf-8">
  
  <title>Страница 10 | Cool Software Blog</title>
  <meta name="author" content="Vitaly Yakovlev">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Cool Software Blog"/>

  
    <meta property="og:image" content=""/>
  

  <link rel="shortcut icon" href="/favicon.png">
  
    <link rel="alternate" href="/atom.xml" title="Cool Software Blog" type="application/atom+xml">
  
  
<link rel="stylesheet" href="/css/style.css">

  <!--[if lt IE 9]><script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script><![endif]-->
  

<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header id="header" class="inner"><div id="title-wrapper">
  <div class="alignleft">
    <div id="title"><a href="/"><img src="/images/coolsoftware-blog.png" /></a></div>
    <h2><a href="/">Записки программиста</a></h2>
  </div>
  <nav id="main-nav" class="alignright">
    <ul>
      
        
        <li><a href="/archives">Архив</a></li>
      
        
        <li><a href="/search"><span class="menuicon"></span></a></li>
      
        
        <li><a href="/atom.xml" target="_blank"><span class="menuicon"></span></a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article id="post-verqueryvalue-access-violation" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-08-24T05:09:00.000Z"><a href="/2012/08/verqueryvalue-access-violation/">2012-08-24</a></time>
      
      
  
    <h1 class="title"><a href="/2012/08/verqueryvalue-access-violation/">VerQueryValue Access Violation</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Столкнулся с интересным багом при получении информации о версии из ресурсов (Visual Studio 10, C++).  </p>
<p><a target="_blank" rel="noopener" href="http://4.bp.blogspot.com/-8E1i0OB80tg/UDcKCY7caWI/AAAAAAAAAC4/mG1gkd_1dnU/s1600/VerQueryValue.png"><img src="http://4.bp.blogspot.com/-8E1i0OB80tg/UDcKCY7caWI/AAAAAAAAAC4/mG1gkd_1dnU/s640/VerQueryValue.png"></a></p>
<p><strong>Access Violation</strong> возникает при выполнении <strong>VerQueryValue</strong> (см. картинку).<br>Причем, ошибка возникает только если используется <strong>Multi-Byte Character Set</strong>. А если выставить в свойствах проекта <strong>Use Unicode Character Set</strong>, то ошибка пропадает. Из этого можно сделать вывод, что баг именно в <strong>VerQueryValueA</strong>, а в <strong>VerQueryValueW</strong> его нет.<br>Что ж, решение проблемы заключается в переписывании функции чтения информации о версии таким образом, чтобы всегда использовалась функция <strong>VerQueryValueW</strong>. Ниже приведен листинг готовой функции.  </p>
<p><strong>UPD 30.01.2014</strong>. Спустя полтора года выяснилось, что и с использованием <strong>VerQueryValueW</strong> возможен <strong>Access Violation</strong>. Что же, лучше поздно чем никогда. Дело в том, что эта функция рассчитана на то, чтобы быть использованной совместно <strong>GetFileVersionInfo</strong>. Возможно, <strong>VerQueryValue</strong> может в каких-то случаях модифицировать ресурс. В общем, фикс заключается в том, что нужно выделить участок памяти (например, с помощью <strong>LocalAlloc</strong>), скопировать в него информацию о версии из ресурса (<strong>CopyMemory</strong>), и использовать его при вызове <strong>VerQueryValue</strong>. Реализация приведена ниже.  </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ReadVersion</span><span class="params">(_TCHAR * szVer, <span class="type">int</span> cbVer, <span class="type">const</span> _TCHAR * szEntry)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    _tcscpy(szVer, _T(<span class="string">&quot;\n&quot;</span>));</span><br><span class="line">    HRSRC hVersion = <span class="built_in">FindResource</span>(</span><br><span class="line">        <span class="literal">NULL</span>,</span><br><span class="line">        <span class="built_in">MAKEINTRESOURCE</span>(VS_VERSION_INFO),</span><br><span class="line">        RT_VERSION);</span><br><span class="line">    <span class="keyword">if</span> (hVersion)  </span><br><span class="line">    &#123;</span><br><span class="line">        DWORD dwSize = <span class="built_in">SizeofResource</span>(<span class="literal">NULL</span>, hVersion);</span><br><span class="line">        HGLOBAL hGlobal = <span class="built_in">LoadResource</span>(<span class="literal">NULL</span>, hVersion);</span><br><span class="line">        <span class="keyword">if</span> (hGlobal != <span class="literal">NULL</span>)  </span><br><span class="line">        &#123;</span><br><span class="line">            LPVOID versionInfoGlobal  = <span class="built_in">LockResource</span>(hGlobal);</span><br><span class="line">            <span class="keyword">if</span> (versionInfoGlobal != <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                LPVOID versionInfoLocal = <span class="built_in">LocalAlloc</span>(LMEM_FIXED, dwSize);</span><br><span class="line">                <span class="built_in">CopyMemory</span>(versionInfoLocal, versionInfoGlobal, dwSize);</span><br><span class="line"> </span><br><span class="line">                DWORD vLen, langD;</span><br><span class="line">                BOOL retVal;</span><br><span class="line"> </span><br><span class="line">                LPVOID retbuf = <span class="literal">NULL</span>;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _UNICODE</span></span><br><span class="line">                <span class="type">const</span> _TCHAR * entry = szEntry;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span>                    </span></span><br><span class="line">                WCHAR entry[<span class="number">64</span>]; <span class="comment">//I assume here that length of szEntry string is less than 64</span></span><br><span class="line">                <span class="built_in">MultiByteToWideChar</span>(CP_ACP, <span class="number">0</span>, szEntry, <span class="number">-1</span>, entry, <span class="number">64</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"> </span><br><span class="line">                WCHAR fileEntry[<span class="number">1024</span>];</span><br><span class="line"> </span><br><span class="line">                _swprintf(fileEntry, <span class="string">L&quot;\\VarFileInfo\\Translation&quot;</span>);</span><br><span class="line">                retVal = <span class="built_in">VerQueryValueW</span>(versionInfoLocal, fileEntry, &amp;retbuf, (UINT*)&amp;vLen);</span><br><span class="line">                <span class="keyword">if</span> (retVal &amp;&amp; vLen == <span class="number">4</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">memcpy</span>(&amp;langD, retbuf, <span class="number">4</span>);            </span><br><span class="line">                    _swprintf(fileEntry, <span class="string">L&quot;\\StringFileInfo\\%02X%02X%02X%02X\\%s&quot;</span>,</span><br><span class="line">                            (langD &amp; <span class="number">0xff00</span>)&gt;&gt;<span class="number">8</span>,langD &amp; <span class="number">0xff</span>,(langD &amp; <span class="number">0xff000000</span>)&gt;&gt;<span class="number">24</span>,</span><br><span class="line">                            (langD &amp; <span class="number">0xff0000</span>)&gt;&gt;<span class="number">16</span>, entry);            </span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    _swprintf(fileEntry, <span class="string">L&quot;\\StringFileInfo\\%04X04B0\\%s&quot;</span>,</span><br><span class="line">                    <span class="built_in">GetUserDefaultLangID</span>(), entry);</span><br><span class="line"> </span><br><span class="line">                retVal = <span class="built_in">VerQueryValueW</span>(versionInfoLocal, fileEntry, &amp;retbuf, (UINT*)&amp;vLen);</span><br><span class="line">                <span class="keyword">if</span> (retVal)</span><br><span class="line">                &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _UNICODE</span></span><br><span class="line">                    _sntprintf(szVer, cbVer<span class="number">-1</span>, _T(<span class="string">&quot; %s\n&quot;</span>), (_TCHAR*)retbuf);</span><br><span class="line">                    szVer[cbVer<span class="number">-1</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">                    szVer[<span class="number">0</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">                    <span class="type">int</span> n = <span class="built_in">WideCharToMultiByte</span>(CP_ACP, <span class="number">0</span>, (LPWSTR)retbuf, <span class="number">-1</span>, szVer+<span class="number">1</span>, cbVer<span class="number">-2</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">                    <span class="keyword">if</span> (n &gt; <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        szVer[<span class="number">0</span>] = <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">                        szVer[n] = <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">                        szVer[n+<span class="number">1</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">                &#125;</span><br><span class="line"> </span><br><span class="line">                <span class="built_in">LocalFree</span>(versionInfoLocal);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">FreeResource</span>(hGlobal);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/access-violation/">Access Violation</a>, <a href="/tags/unhandled-exception/">Unhandled Exception</a>, <a href="/tags/verqueryvalue/">VerQueryValue</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-qt-visual-studio-2008" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-07-18T17:01:00.000Z"><a href="/2012/07/qt-visual-studio-2008/">2012-07-18</a></time>
      
      
  
    <h1 class="title"><a href="/2012/07/qt-visual-studio-2008/">Qt и Visual Studio 2008</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <div style="text-align: left;">Чтобы использовать Qt совместно со средой разработки Visual Studio нужно выполнить следующие шаги:</div>

<p>1. Скачать и установить Qt for Visual Studio 2008: <a target="_blank" rel="noopener" href="http://qt.nokia.com/downloads/windows-cpp-vs2008">http://qt.nokia.com/downloads/windows-cpp-vs2008</a> (каталог установки не должен содержать пробелов, например это может быть C:\qt\4.8.2)</p>
<p>2. Скачать и установить Visual Studio Add-in: <a target="_blank" rel="noopener" href="http://qt.nokia.com/downloads/visual-studio-add-in">http://qt.nokia.com/downloads/visual-studio-add-in</a>. </p>
<div style="text-align: left;">3. Добавить в Переменную среды Path (Пуск->Панель инструментов->Система->Дополнительно->Переменные среды) путь к bin каталогу Qt (например, C:\\qt\\4.8.2\\bin)</div>

<div style="text-align: left;">Вот, в принципе, все. В Microsoft Visual Studio IDE должен появиться пункт меню Qt. А в диалоге New Project - типы проектов Qt4 Projects.</div>

<p><a target="_blank" rel="noopener" href="http://4.bp.blogspot.com/-jOxA0xDFeHE/UAbnhZvwrPI/AAAAAAAAACc/83inxuVgthU/s1600/qt1.png"><img src="http://4.bp.blogspot.com/-jOxA0xDFeHE/UAbnhZvwrPI/AAAAAAAAACc/83inxuVgthU/s400/qt1.png"></a></p>
<p><a target="_blank" rel="noopener" href="http://4.bp.blogspot.com/-8W8A1BtdcUs/UAbnmrtMHUI/AAAAAAAAACk/olYvTzTpoyA/s1600/qt2.png"><img src="http://4.bp.blogspot.com/-8W8A1BtdcUs/UAbnmrtMHUI/AAAAAAAAACk/olYvTzTpoyA/s400/qt2.png"></a></p>
<div style="text-align: left;">Есть только два нюанса:</div>

<div style="text-align: left;">1. Если хочется избавиться от Qt Runtime (статически прилинковать к exe файлу все необходимые библиотеки), то нужно пересобрать Qt с ключом -static:</div> <div style="text-align: left;"></div>

<ul>
<li>Запустить Visual Studio 2008 Command Prompt</li>
<li>Выполнить команду: cd  C:\qt\4.8.2</li>
<li>Выполнить команду: configure -platform win32-msvc2008 -static</li>
<li>Выполнить команду: nmake</li>
</ul>
<p>Сборка Qt у меня заняла несколько часов.</p>
<p>2. По-умолчанию библиотеки Qt компилируются в режиме Multi-threaded DLL - &#x2F;MD (для Debug -  Multi-threaded Debug DLL - &#x2F;MDd). Что означает наличие зависимостей от msvcr90.dll и msvcp90.dll. Т.е. при установке программы возможно потребуется устанавливать Microsoft Visual C++ 2008 Redistributable Package. Чтобы избавиться от этой зависимости нужно перед сборкой Qt поправить qmake.conf ( C:\qt\4.8.2 \mkspecs\win32-msvc2008\qmake.conf) следующим образом:  </p>
<p>заменить строки</p>
<p>  QMAKE_CFLAGS_RELEASE    &#x3D; -O2 -MD</p>
<p>  QMAKE_CFLAGS_RELEASE_WITH_DEBUGINFO +&#x3D; -O2 -MD -Zi</p>
<p>  QMAKE_CFLAGS_DEBUG      &#x3D; -Zi -MDd</p>
<p>на</p>
<p>  QMAKE_CFLAGS_RELEASE    &#x3D; -O2 -MT</p>
<p>  QMAKE_CFLAGS_RELEASE_WITH_DEBUGINFO +&#x3D; -O2 -MT -Zi</p>
<p>  QMAKE_CFLAGS_DEBUG      &#x3D; -Zi -MTd</p>
<div style="text-align: left;">===</div>

<p>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/qt/">Qt</a>, <a href="/tags/cpp/">cpp</a>, <a href="/tags/visial-studio/">Visial Studio</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-microsoft-visual-c-runtime" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-07-15T15:31:00.000Z"><a href="/2012/07/microsoft-visual-c-runtime/">2012-07-15</a></time>
      
      
  
    <h1 class="title"><a href="/2012/07/microsoft-visual-c-runtime/">Зависимость от Microsoft Visual C++ Runtime</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Чтобы убрать зависимость от Microsoft Visual C++ Runtime нужно в свойствах проекта выбрать Runtime Library: Multi-threaded (&#x2F;MT). Получающийся при компиляции exe&#x2F;dll будет несколько больше, зато не нужно будет устанавливать Visual C++ Redistributable Package.  </p>
<p><a target="_blank" rel="noopener" href="http://2.bp.blogspot.com/-CjbUFycexks/UALiLAoQ96I/AAAAAAAAACQ/Ks4Wr6vS9fE/s1600/mt.png"><img src="http://2.bp.blogspot.com/-CjbUFycexks/UALiLAoQ96I/AAAAAAAAACQ/Ks4Wr6vS9fE/s1600/mt.png"></a></p>
<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/cpp/">cpp</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-enhanced-security" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-07-05T08:11:00.000Z"><a href="/2012/07/enhanced-security/">2012-07-05</a></time>
      
      
  
    <h1 class="title"><a href="/2012/07/enhanced-security/">Проверка серверного сертификата и Enhanced Security</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>В моем <a href="http://blog.coolsoftware.ru/2011/11/ssl-delphi.html">посте про проверку серверного сертификата SSL в Delphi 7</a> проверка этого самого сертификата выполнялась вызовом функции CryptoAPI CertGetIssuerCertificateFromStore. Я столкнулся на практике со следующим: оказывается, что на эту функцию оказывает влияние Internet Explorer Enhanced Security (по умолчанию оно включено на всех серверах Windows 2003). Т.е. до тех пор, пока хост не будет включен в список доверенных, его сертификат тоже может не проходить проверку. Как-то так (слишком глубоко эту тему не копал). В общем, если на одном компьютере проверка сертификата работает, а на другом - нет (ошибка “Error connecting with SSL”), то следует проверить - включен ли IE Enhanced Security, и если да, то либо отключить его, либо добавить хост в список доверенных.  </p>
<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/certificate/">certificate</a>, <a href="/tags/ssl/">ssl</a>, <a href="/tags/enhanced-security/">Enhanced Security</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-delphi-xe-2-asprotect" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-04-02T05:41:00.000Z"><a href="/2012/04/delphi-xe-2-asprotect/">2012-04-02</a></time>
      
      
  
    <h1 class="title"><a href="/2012/04/delphi-xe-2-asprotect/">Delphi XE 2 &amp; ASProtect</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>ASProtect, к сожалению, не поддерживает приложения, сделанные в Delphi XE 2. Упакованные им exe-ки не запускаются. В Windows Application Log-е появляется соответствующая запись об ошибке в приложении.  </p>
<p><a target="_blank" rel="noopener" href="http://forum.asprotect.net/index.php?showtopic=1362">Сообщение</a> о несовместимости Delphi XE 2 и ASProtect на официальном форуме датировано 18 ноября 2011, но до сих пор решения нет. Последний ответ от 26 марта 2012 гласит:</p>
<p>Your problem in the queue for the decision and will be solved in the next release of ASProtect (will be released in the nearest future).  </p>
<p>Ждем новую версию… Если в ближайшее время не появится, придется переходить на какой-нибудь другой протектор.  </p>
<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/delphi/">delphi</a>, <a href="/tags/asprotect/">ASProtect</a>, <a href="/tags/xe-2/">XE 2</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-coolsoftware-on-github" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-03-14T05:40:00.000Z"><a href="/2012/03/coolsoftware-on-github/">2012-03-14</a></time>
      
      
  
    <h1 class="title"><a href="/2012/03/coolsoftware-on-github/">Coolsoftware on github</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Завел аккаунт в github: <a target="_blank" rel="noopener" href="https://github.com/coolsoftware/">https://github.com/coolsoftware/</a><div style="font-family: Georgia, serif; font-size: 100%; font-style: normal; font-variant: normal; font-weight: normal; line-height: normal; "></div> <div style="font-family: Georgia, serif; font-size: 100%; font-style: normal; font-variant: normal; font-weight: normal; line-height: normal; ">Это не первый мой аккаунт в github, поэтому потребовалось как-то организовывать одновременный доступ к нему из под разных учеток, с разными SSHKey. По этому поводу маленький “трик” - как я все это сделал:</div> <div style="font-family: Georgia, serif; font-size: 100%; font-style: normal; font-variant: normal; font-weight: normal; line-height: normal; "></div></p>
<p>1. При установке <a target="_blank" rel="noopener" href="http://code.google.com/p/msysgit/downloads/list">Git for Windows</a> создает такой ярлык для Git Bash:</p>
<p><a target="_blank" rel="noopener" href="http://3.bp.blogspot.com/-U_ghHd9gdnI/T2AxzEEsyNI/AAAAAAAAAB4/1r0scPKoqZk/s1600/gitbash.png"><img src="http://3.bp.blogspot.com/-U_ghHd9gdnI/T2AxzEEsyNI/AAAAAAAAAB4/1r0scPKoqZk/s400/gitbash.png"></a></p>
<div style="font-family: Georgia, serif; font-size: 100%; font-style: normal; font-variant: normal; font-weight: normal; line-height: normal; ">Как мы видим текущий каталог Git Bash - %HOMEDRIVE%%HOMEPATH%. В нем хранятся все настройки git, каталог .ssh с SSHKey и проекты обычно тоже там.</div>

<p>Я создал в %HOMEDRIVE%%HOMEPATH% каталог Coolsoftware и в нем git.cmd следующего содержания:</p>
<p>@set HOME&#x3D;%HOMEDRIVE%%HOMEPATH%\Coolsoftware</p>
<p>C:\Windows\SysWOW64\cmd.exe &#x2F;c “”C:\Program Files (x86)\Git\bin\sh.exe” –login -i”</p>
<p>Затем создал ярлык на этот git.cmd и вынес его на рабочий стол, обозвав “Git Bash - Coolsoftware”. Теперь при его запуске текущий каталог пользователя в “баше” %HOMEDRIVE%%HOMEPATH%\Coolsoftware, а при запуске старого ярлыка “Git Bash” текущий каталог %HOMEDRIVE%%HOMEPATH%. Таким образом получилось два “баша”, в каждом - свои настройки.</p>
<p>Далее запустил “Git Bash - Coolsoftware” произвел установку github в соответствии с <a target="_blank" rel="noopener" href="http://help.github.com/win-set-up-git/">инструкцией</a> и выложил проект <a target="_blank" rel="noopener" href="https://github.com/coolsoftware/VHashedStringList">VHashedStringList</a> - оптимизированный список строк, доступ к элементам которого организован с помощью хеш-индекса.</p>
<p>TVHashedStringList - аналог стандартного THashedStringList (фактически, он сделан на его основе, хотя наследуется не от него, а от TStringList).</p>
<p>Существенное отличие от THashedStringList заключается в том, что оптимизированы операции перестроения индекса при изменении списка.</p>
<p>В THashedStringList полное перестроение индекса требуется после любого изменения, что приводит к значительным задержкам в реальных приложениях.</p>
<p>Например, в следующем примере полное перестроение индекса будет произведено 3 раза:</p>
<figure class="highlight pascal"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">procedure</span> <span class="title">ChangeList</span><span class="params">(lst: THashedStringList)</span>;</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  lst.Values[<span class="string">&#x27;key1&#x27;</span>] := <span class="string">&#x27;Value1&#x27;</span>;</span><br><span class="line">  lst.Values[<span class="string">&#x27;key2&#x27;</span>] := <span class="string">&#x27;Value2&#x27;</span>; <span class="comment">//неявный вызов IndexOfName и перестроение индекса</span></span><br><span class="line">  lst.Values[<span class="string">&#x27;key3&#x27;</span>] := <span class="string">&#x27;Value3&#x27;</span>; <span class="comment">//неявный вызов IndexOfName и перестроение индекса</span></span><br><span class="line">  lst.Values[<span class="string">&#x27;key4&#x27;</span>] := <span class="string">&#x27;Value4&#x27;</span>; <span class="comment">//неявный вызов IndexOfName и перестроение индекса</span></span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>

<p>В отличие от THashedStringList, TVHashedStringList не требует полного перестроения индекса после добавления нового элемента в конец списка или</p>
<p>при изменении значений элементов списка. Перестроение происходит только после вставки нового элемента в список или удаления из списка.</p>
<p>Поэтому в следующем примере полного перестроения индекса не произойдет ни разу.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">procedure ChangeList(lst: TVHashedStringList);</span><br><span class="line">begin</span><br><span class="line">  lst.Values[&#x27;key1&#x27;] := &#x27;Value1&#x27;; //индекс модифицирован и не требует перестроения</span><br><span class="line">  lst.Values[&#x27;key2&#x27;] := &#x27;Value2&#x27;; //индекс модифицирован и не требует перестроения</span><br><span class="line">  lst.Values[&#x27;key3&#x27;] := &#x27;Value3&#x27;; //индекс модифицирован и не требует перестроения</span><br><span class="line">  lst.Values[&#x27;key4&#x27;] := &#x27;Value4&#x27;; //индекс модифицирован и не требует перестроения</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>

<p>=&#x3D;&#x3D;</p>
<p>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/github/">github</a>, <a href="/tags/vhashedstringlist/">VHashedStringList</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-blog-post_14" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-02-15T04:19:00.000Z"><a href="/2012/02/blog-post_14/">2012-02-15</a></time>
      
      
  
    <h1 class="title"><a href="/2012/02/blog-post_14/">Много читателей и один писатель</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>В много-поточном приложении довольно часто возникает необходимость синхронизировать обращение к разделяемому ресурсу, который могут одновременно читать несколько потоков “читателей”, а производить запись в этот ресурс может только один поток “писатель”. Когда читатели читают данные, то писатель не может писать и должен ждать, пока все читатели не закончат чтение. Когда писатель пишет, то все читатели должны ждать, пока он не запишет все данные и не освободит ресурс.  </p>
<p>Ниже приведена моя реализация “читателя” и “писателя”. В этой реализации есть допущение о том, что нам известно максимальное количество читателей MAX_READERS.  </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">LONG gCounter = 0;</span><br><span class="line">//алгоритм читателя</span><br><span class="line">for (;;) //бесконечный цикл ожидания освобождения ресурса</span><br><span class="line">&#123;</span><br><span class="line">  LONG n = InterlockedIncrement(&amp;gCounter); </span><br><span class="line">  //в n - значение gCounter после инкремента</span><br><span class="line">  if (n &lt;= MAX_READERS) break; //писатель ничего не пишет - можно читать</span><br><span class="line">  InterlockedDecrement(&amp;gCounter);</span><br><span class="line">&#125;</span><br><span class="line">// здесь читаем данные</span><br><span class="line">...</span><br><span class="line">//</span><br><span class="line">InterlockedDecrement(&amp;gCounter); //освобождаем блокировку читателем</span><br><span class="line">// алгоритм писателя</span><br><span class="line">for (;;) //бесконечный цикл освобождения ресурса читателями/писателями</span><br><span class="line">&#123;</span><br><span class="line">  LONG n = InterlockedCompareExchange(&amp;gCounter, (MAX_READERS+1), 0); </span><br><span class="line">  //в n - предыдущее значение gCounter, которое было ДО попытки заменить его на MAX_READERS+1 в InterlockedCompareExchange; </span><br><span class="line">  //если там был 0, то никаких читателей/писателей не было, новое значение в gCounter будет MAX_READERS+1; </span><br><span class="line">  //если в gCounter был не 0, то это значение НЕ будет заменено на MAX_READERS+1, а останется прежним</span><br><span class="line">  if (n == 0) break;</span><br><span class="line">&#125;</span><br><span class="line">// здесь пишем данные</span><br><span class="line">...</span><br><span class="line">//</span><br><span class="line">InterlockedExchangeAdd(&amp;gCounter, -(MAX_READERS+1)); //освобождаем блокировку писателем</span><br></pre></td></tr></table></figure>

<p>Обращаю внимание на использование Interlocked-функций. Это такие функции, которые обеспечивают атомарность.<br>Например, InterlockedIncrement(&amp;gCounter) - это атомарное увеличение на 1 (инкремент) значения gCounter.<br>Вообще, операция инкремента gCounter не атомарна, она состоит из следующих 3-х операций:  </p>
<p>1. прочитать значение из памяти по адресу &amp;gCounter<br>2. увеличить значение на 1<br>3. записать результат в память по адресу &amp;gCounter  </p>
<p>Если выполняется параллельно 2 потока, то возможна такая ситуация :  </p>
<p>[поток 1] читает gCounter, прочитан 0<br>[поток 2] читает gCounter, прочитан 0<br>[поток 1] увеличивает значение на 1, получается 1<br>[поток 2] увеличивает значение на 1, получается 1<br>[поток 1] записывает 1 в gCounter<br>[поток 2] записывает 1 в gCounter  </p>
<p>В итоге в gCounter будет 1, а не 2, как можно было бы предположить.  </p>
<p>UPD. LockLib - классы C++ для блокировки разделяемых ресурсов: <a href="http://blog.coolsoftware.ru/2013/12/locklib.html">http://blog.coolsoftware.ru/2013/12/locklib.html</a>  </p>
<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/%D0%BF%D0%B8%D1%81%D0%B0%D1%82%D0%B5%D0%BB%D0%B8/">Писатели</a>, <a href="/tags/%D1%87%D0%B8%D1%82%D0%B0%D1%82%D0%B5%D0%BB%D0%B8/">Читатели</a>, <a href="/tags/%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC/">алгоритм</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-blog-post" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-02-10T02:18:00.000Z"><a href="/2012/02/blog-post/">2012-02-10</a></time>
      
      
  
    <h1 class="title"><a href="/2012/02/blog-post/">Свой ГСЧ</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Стандартный генератор случайных чисел (ГСЧ) в C++ - функция rand(). Он работает по так-называемому <a target="_blank" rel="noopener" href="http://ru.wikipedia.org/wiki/%D0%9B%D0%B8%D0%BD%D0%B5%D0%B9%D0%BD%D1%8B%D0%B9_%D0%BA%D0%BE%D0%BD%D0%B3%D1%80%D1%83%D1%8D%D0%BD%D1%82%D0%BD%D1%8B%D0%B9_%D0%BC%D0%B5%D1%82%D0%BE%D0%B4">конгруэнтному линейному алгоритму</a>. Для инициализации генератора используется srand(seed).  </p>
<p>У этого генератора есть несколько неприятных особенностей.</p>
<p>1. Он более-менее сносно работает, когда в своей программе вы генерируете небольшое количество независимых между собой случайных величин. Но когда с помощью одного и того же датчика генерируется с десяток различных переменных (A, B, C, D, E, F, G, H, I, J), то последовательность псевдослучайных значений, например, переменной A: A1, A2, A3, A4, A5, … уже не будет выглядеть как случайная.</p>
<p>2. Требуется производить инициализацию счетчика с помощью функции srand(seed) в каждом потоке, в котором вызывается rand().</p>
<p>В общем, столкнувшись на практике со странностями работы стандартного ГСЧ, я решил написать свой. Основные требования - скорость работы и возможность обращаться к одному и тому же ГСЧ из разных потоков. И вот, что у меня получилось:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">class CRnd</span><br><span class="line">&#123;</span><br><span class="line">  private:</span><br><span class="line">    unsigned long m_iran;</span><br><span class="line">  public:</span><br><span class="line">    void Init(unsigned long seed);</span><br><span class="line">    unsigned long Rand();</span><br><span class="line">&#125;</span><br><span class="line">void CRnd::Init(unsigned long seed)</span><br><span class="line">&#123;</span><br><span class="line">  m_iran = seed;</span><br><span class="line">&#125;</span><br><span class="line">unsigned long CRnd::Rand()</span><br><span class="line">&#123;</span><br><span class="line">  unsigned long old_iran = m_iran;</span><br><span class="line">  unsigned long new_iran, cur_iran;</span><br><span class="line">  for (;;)</span><br><span class="line">  &#123;</span><br><span class="line">    new_iran = 1664525L*old_iran+1013904223L;</span><br><span class="line">    cur_iran = InterlockedCompareExchange((volatile long*)&amp;m_iran, new_iran, old_iran);</span><br><span class="line">    if (cur_iran == old_iran) break;</span><br><span class="line">    old_iran = cur_iran;</span><br><span class="line">  &#125;</span><br><span class="line">  return new_iran;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>UPD</strong>. <em>Множитель a</em> &#x3D; 1664525 и <em>слагаемое c</em> &#x3D; 1013904223 были взяты из <a target="_blank" rel="noopener" href="https://ru.wikipedia.org/wiki/%D0%9B%D0%B8%D0%BD%D0%B5%D0%B9%D0%BD%D1%8B%D0%B9_%D0%BA%D0%BE%D0%BD%D0%B3%D1%80%D1%83%D1%8D%D0%BD%D1%82%D0%BD%D1%8B%D0%B9_%D0%BC%D0%B5%D1%82%D0%BE%D0%B4">статьи в вики</a>. На практике, однако, выяснилось, что получаемая последовательность чисел имеет короткий период, поэтому имеет смысл использовать другие параметры:<br>a &#x3D; 1103515245, c &#x3D; 12345, m &#x3D; 2^31.  </p>
<p>unsigned long CRnd::Rand()  </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  unsigned long old_iran = m_iran;</span><br><span class="line">  unsigned long new_iran, cur_iran;</span><br><span class="line">  for (;;)</span><br><span class="line">  &#123;</span><br><span class="line">    new_iran = 1103515245L*old_iran+12345L;</span><br><span class="line">    cur_iran = InterlockedCompareExchange((volatile long*)&amp;m_iran, new_iran, old_iran);</span><br><span class="line">    if (cur_iran == old_iran) break;</span><br><span class="line">    old_iran = cur_iran;</span><br><span class="line">  &#125;</span><br><span class="line">  return ((new_iran &gt;&gt; 16) &amp; 32767L);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>=&#x3D;&#x3D;</p>
<p>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/cpp/">cpp</a>, <a href="/tags/%D0%B3%D1%81%D1%87/">ГСЧ</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-c-delphi" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2011-11-21T08:59:00.000Z"><a href="/2011/11/c-delphi/">2011-11-21</a></time>
      
      
  
    <h1 class="title"><a href="/2011/11/c-delphi/">Вызов кода на C# из программы на Delphi</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Обычно решают противоположную задачу - вызов внешних модулей (DLL, COM), написанных на C++, Delphi и т.п., из программы на C#. У меня же возникла необходимость вызвать из программы написанной на Delphi функцию библиотеки, написанной на C#. В этом посте я расскажу о том, как это делается.  </p>
<p>Итак, нужно сделать на C# COM объект, к которому затем мы сможем обращаться из нашей программы на Delphi.  </p>
<ol>
<li><p>В Visual Studio создаем новый проект New&#x2F;Project&#x2F;Visual C#&#x2F;Class Library.</p>
</li>
<li><p>В свойствах проекта на вкладке Application жмем кнопку “Assembly Information” и отмечаем “Make assembly COM-visible”.<br><img src="http://2.bp.blogspot.com/-1gmRXzGe_ZY/TsoXPYjY4dI/AAAAAAAAABE/E75IOweSZvM/s400/20111121-1.png"></p>
</li>
<li><p>В свойствах проекта на вкладке Build отмечаем Register for COM interop.<br><img src="http://1.bp.blogspot.com/-83aanUd2-cQ/TsoYg4wxbdI/AAAAAAAAABQ/F4vyxSQ6jW4/s400/20111121-2.png"></p>
</li>
<li><p>Для регистрации библиотеки вместо regsvr32 нужно использовать regasm. Вызов будет типа такого:  </p>
<p>regasm.exe vcomclasslibrary.dll &#x2F;tlb:vcomclasslibrary.tlb  </p>
<p>regasm.exe обычно расположен тут:  </p>
<p>c:\Windows\Microsoft.NET\Framework\v2.0.50727\  </p>
</li>
<li><p>Код на C#:  </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">using System;</span><br><span class="line">using System.Drawing;</span><br><span class="line">using System.Runtime.InteropServices;</span><br><span class="line">namespace VCOMClassLibrary</span><br><span class="line">&#123;</span><br><span class="line"> [ComVisible(true)]</span><br><span class="line"> public interface IVCOMInterface</span><br><span class="line"> &#123;</span><br><span class="line">   string LoadImageFromStream(System.IO.Stream stream);</span><br><span class="line"> &#125;</span><br><span class="line"> [ComVisible(true), ClassInterface(ClassInterfaceType.None)]</span><br><span class="line"> public class VCOMClass : IVCOMInterface</span><br><span class="line"> &#123;</span><br><span class="line">   public string LoadImageFromStream(System.IO.Stream stream)</span><br><span class="line">   &#123;</span><br><span class="line">     Image img = Image.FromStream(stream);</span><br><span class="line">     //put code to load image here</span><br><span class="line">     return &quot;OK&quot;;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>В проекте на Delphi импортируем VCOMClassLibrary (Project&#x2F;Import Type Library). Пример вызова (в котором я заодно показал как передавать Stream):  </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">procedure TForm1.Button1Click(Sender: TObject);</span><br><span class="line">var</span><br><span class="line"> cls: IVCOMInterface;</span><br><span class="line"> Stream: IStream;</span><br><span class="line"> FileStream: TFileStream;</span><br><span class="line">begin</span><br><span class="line"> cls := CreateComObject(CLASS_VCOMClass) as IVCOMInterface;</span><br><span class="line"> FileStream := TFileStream.Create(&#x27;c:\temp\1.jpg&#x27;, fmOpenRead);</span><br><span class="line"> Stream := TStreamAdapter.Create(FileStream, soOwned) as IStream;</span><br><span class="line"> cls.LoadImageFromStream(Stream);</span><br><span class="line"> FileStream.Free;</span><br><span class="line">end;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/dll/">dll</a>, <a href="/tags/c/">C#</a>, <a href="/tags/com/">COM</a>, <a href="/tags/delphi/">delphi</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-sqlite" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2011-11-19T11:57:00.000Z"><a href="/2011/11/sqlite/">2011-11-19</a></time>
      
      
  
    <h1 class="title"><a href="/2011/11/sqlite/">Быстрая загрузка данных в Sqlite</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>Sqlite замечательная локальная база данных. Не требует установки, легко встраивается в приложения благодаря API. Шустрая благодаря тому, что данные не гоняются ни по сети, ни даже между процессами. У меня загрузка листа в миллион записей в Sqlite занимает порядка 30 секунд. Для сравнения - та же самая процедура загружает те же данные в локальный MySQL в 10 раз дольше.<br>Однако, для того, чтобы загрузка данных в Sqlite происходила с максимально возможной скоростью нужно использовать две вещи:  </p>
<p>1. <strong>Параметризованный Sql</strong>, типа такого: INSERT INTO `table1` (`A`, `B`) VALUES (:param1, :param2). В начале процедуры загрузки выполнять “prepare” (Sqlite3_Prepare_v2). Перед вставкой “биндить” переменные с помощью sqlite3_bind_text, sqlite3_bind_int64 и т.п.,<br>а затем выполнять вставку вызовом функции sqlite3_step.  </p>
<p>2. <strong>Транзакции</strong>: вставлять данные большими порциями, например, по 1000 записей. Перед вставкой очередной порции выполнять BEGIN TRANSACTION. В конце вставки - COMMIT TRANSACTION. Если этого не делать, то после каждой операции вставки данные будут немедленно сбрасываться на диск, что замедлит процесс во много раз.  </p>
<p>=&#x3D;&#x3D;<br>Перепечатка материалов блога разрешается с обязательной ссылкой на <a href="http://blog.coolsoftware.ru/">blog.coolsoftware.ru</a></p>

      
    </div>
    <footer>
      
        
        
      
      
      
  
  <div class="tags">
    <a href="/tags/fast-insert/">fast insert</a>, <a href="/tags/sqlite/">sqlite</a>, <a href="/tags/tuning/">tuning</a>, <a href="/tags/%D0%B1%D1%8B%D1%81%D1%82%D1%80%D0%B0%D1%8F-%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B0/">быстрая вставка</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
    <a href="/page/9/" class="alignleft prev">Назад</a>
  
  
    <a href="/page/11/" class="alignright next">Вперед</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  

<div class="widget tag">
    <h3 class="title">Контакты</h3>
    <div class="entry">
        
<div class="contactlink githublink">
    <div class="icon"></div>
    <a target="_blank" rel="noopener" href="https://github.com/coolsoftware/">github.com/coolsoftware</a>
</div>

    </div>
</div>


  

<div class="widget tag">
    <h3 class="title">Избранные сообщения</h3>
    <div class="entry">
        
<div>
    <a href="/tags/%D0%BF%D0%BE%D0%BB%D0%B5%D0%B7%D0%BD%D1%8B%D0%B5-%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8/">Полезные ссылки</a>
</div>

<div>
    <a href="/tags/howto/">Howto</a>
</div>

<div>
    <a href="/2021/01/blog-post/">Музыка</a>
</div>

<div>
    <a href="/tags/trie/">Поиск подстрок с помощью дерева цифрового поиска</a>
</div>

<div>
    <a href="/tags/%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D0%BE-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D0%B0%D0%BB%D0%BE%D0%B2/">Дерево Интервалов (Отрезков)</a>
</div>

<div>
    <a href="/tags/throttling/">Throttling</a>
</div>

<div>
    <a href="/2022/01/nodejs/">В одну строку</a>
</div>

<div>
    <a href="/tags/%D0%B0%D0%BD%D0%B5%D0%BA%D0%B4%D0%BE%D1%82%D1%8B/">Анекдоты</a>
</div>

    </div>
</div>


  

  
<div class="widget tagcloud">
  <h3 class="title">Облако меток</h3>
  <div class="entry">
    <a href="/tags/net/" style="font-size: 11.11px;">.NET</a> <a href="/tags/0xe06d7363/" style="font-size: 10px;">0xe06d7363</a> <a href="/tags/32/" style="font-size: 10px;">32</a> <a href="/tags/404/" style="font-size: 10px;">404</a> <a href="/tags/64/" style="font-size: 11.11px;">64</a> <a href="/tags/ahci/" style="font-size: 10px;">AHCI</a> <a href="/tags/asp/" style="font-size: 11.11px;">ASP</a> <a href="/tags/asprotect/" style="font-size: 11.11px;">ASProtect</a> <a href="/tags/asus/" style="font-size: 10px;">ASUS</a> <a href="/tags/access-violation/" style="font-size: 10px;">Access Violation</a> <a href="/tags/active-server-pages/" style="font-size: 10px;">Active Server Pages</a> <a href="/tags/amazon/" style="font-size: 10px;">Amazon</a> <a href="/tags/angular/" style="font-size: 10px;">Angular</a> <a href="/tags/apache/" style="font-size: 11.11px;">Apache</a> <a href="/tags/bootstrap/" style="font-size: 10px;">Bootstrap</a> <a href="/tags/bouncy-castle/" style="font-size: 10px;">Bouncy Castle</a> <a href="/tags/c/" style="font-size: 12.22px;">C#</a> <a href="/tags/com/" style="font-size: 10px;">COM</a> <a href="/tags/centos/" style="font-size: 15.56px;">CentOS</a> <a href="/tags/cookie/" style="font-size: 10px;">Cookie</a> <a href="/tags/createprocess/" style="font-size: 10px;">CreateProcess</a> <a href="/tags/dst/" style="font-size: 10px;">DST</a> <a href="/tags/designer/" style="font-size: 10px;">Designer</a> <a href="/tags/desktop/" style="font-size: 10px;">Desktop</a> <a href="/tags/driver/" style="font-size: 10px;">Driver</a> <a href="/tags/ec2/" style="font-size: 10px;">EC2</a> <a href="/tags/eosio/" style="font-size: 10px;">EOSIO</a> <a href="/tags/enhanced-security/" style="font-size: 10px;">Enhanced Security</a> <a href="/tags/git/" style="font-size: 10px;">Git.</a> <a href="/tags/iis/" style="font-size: 11.11px;">IIS</a> <a href="/tags/insert/" style="font-size: 10px;">INSERT</a> <a href="/tags/icons/" style="font-size: 11.11px;">Icons</a> <a href="/tags/interval-tree/" style="font-size: 10px;">Interval Tree</a> <a href="/tags/java/" style="font-size: 10px;">Java</a> <a href="/tags/lazarus/" style="font-size: 10px;">Lazarus</a> <a href="/tags/linux/" style="font-size: 13.33px;">Linux</a> <a href="/tags/locklib/" style="font-size: 11.11px;">LockLib</a> <a href="/tags/md4/" style="font-size: 10px;">MD4</a> <a href="/tags/md5/" style="font-size: 10px;">MD5</a> <a href="/tags/mdb-access/" style="font-size: 10px;">MDB Access</a> <a href="/tags/mac/" style="font-size: 10px;">Mac</a> <a href="/tags/microsoft/" style="font-size: 10px;">Microsoft</a> <a href="/tags/mikrotik/" style="font-size: 10px;">MikroTik</a> <a href="/tags/minidlna/" style="font-size: 11.11px;">MiniDLNA</a> <a href="/tags/netbeans/" style="font-size: 10px;">NetBeans</a> <a href="/tags/node-js/" style="font-size: 11.11px;">Node.js</a> <a href="/tags/oracle/" style="font-size: 11.11px;">Oracle</a> <a href="/tags/php/" style="font-size: 12.22px;">PHP</a> <a href="/tags/pl-sql/" style="font-size: 10px;">PL/SQL</a> <a href="/tags/parseservercookie/" style="font-size: 10px;">ParseServerCookie</a> <a href="/tags/performance/" style="font-size: 10px;">Performance</a> <a href="/tags/perl/" style="font-size: 10px;">Perl</a> <a href="/tags/python/" style="font-size: 10px;">Python</a> <a href="/tags/qstring/" style="font-size: 10px;">QString</a> <a href="/tags/qt/" style="font-size: 13.33px;">Qt</a> <a href="/tags/raii/" style="font-size: 10px;">RAII</a> <a href="/tags/rsa/" style="font-size: 10px;">RSA</a> <a href="/tags/raspberry-pi/" style="font-size: 13.33px;">Raspberry Pi</a> <a href="/tags/react/" style="font-size: 10px;">React</a> <a href="/tags/redis/" style="font-size: 10px;">Redis</a> <a href="/tags/refresh/" style="font-size: 10px;">Refresh</a> <a href="/tags/sax/" style="font-size: 12.22px;">SAX</a> <a href="/tags/seh/" style="font-size: 10px;">SEH</a> <a href="/tags/selinux/" style="font-size: 10px;">SELinux</a> <a href="/tags/sql/" style="font-size: 11.11px;">SQL</a> <a href="/tags/schematron/" style="font-size: 11.11px;">Schematron</a> <a href="/tags/shelliconoverlayidentifiers/" style="font-size: 10px;">ShellIconOverlayIdentifiers</a> <a href="/tags/skype/" style="font-size: 10px;">Skype</a> <a href="/tags/teredo/" style="font-size: 10px;">Teredo</a> <a href="/tags/tinker-board/" style="font-size: 10px;">Tinker Board</a> <a href="/tags/tortoisegit/" style="font-size: 10px;">TortoiseGit</a> <a href="/tags/unhandled-exception/" style="font-size: 10px;">Unhandled Exception</a> <a href="/tags/vhashedstringlist/" style="font-size: 11.11px;">VHashedStringList</a> <a href="/tags/vlock/" style="font-size: 11.11px;">VLock</a> <a href="/tags/vrwlock/" style="font-size: 11.11px;">VRWLock</a> <a href="/tags/vuncopyable/" style="font-size: 10px;">VUncopyable</a> <a href="/tags/verqueryvalue/" style="font-size: 10px;">VerQueryValue</a> <a href="/tags/visial-studio/" style="font-size: 10px;">Visial Studio</a> <a href="/tags/visual-c/" style="font-size: 10px;">Visual C++</a> <a href="/tags/visual-studio-2010/" style="font-size: 13.33px;">Visual Studio 2010</a> <a href="/tags/wcf/" style="font-size: 10px;">WCF</a> <a href="/tags/when/" style="font-size: 10px;">WHEN</a> <a href="/tags/wsdl/" style="font-size: 10px;">WSDL</a> <a href="/tags/web-service/" style="font-size: 10px;">Web Service</a> <a href="/tags/wi-fi/" style="font-size: 10px;">Wi-Fi</a> <a href="/tags/xe-2/" style="font-size: 11.11px;">XE 2</a> <a href="/tags/xe2/" style="font-size: 11.11px;">XE2</a> <a href="/tags/xml/" style="font-size: 12.22px;">XML</a> <a href="/tags/xsd/" style="font-size: 12.22px;">XSD</a> <a href="/tags/tchar/" style="font-size: 10px;">_TCHAR</a> <a href="/tags/throwinfo/" style="font-size: 10px;">_ThrowInfo</a> <a href="/tags/aggregate/" style="font-size: 10px;">aggregate</a> <a href="/tags/aggregation/" style="font-size: 10px;">aggregation</a> <a href="/tags/android/" style="font-size: 11.11px;">android</a> <a href="/tags/api/" style="font-size: 10px;">api</a> <a href="/tags/apk/" style="font-size: 10px;">apk</a> <a href="/tags/arm/" style="font-size: 11.11px;">arm</a> <a href="/tags/artificial-intelligence/" style="font-size: 11.11px;">artificial intelligence</a> <a href="/tags/auto-increment/" style="font-size: 10px;">auto-increment</a> <a href="/tags/avahi/" style="font-size: 11.11px;">avahi</a> <a href="/tags/bash/" style="font-size: 10px;">bash</a> <a href="/tags/best-practices/" style="font-size: 10px;">best practices</a> <a href="/tags/bigdata/" style="font-size: 10px;">bigdata</a> <a href="/tags/blog/" style="font-size: 10px;">blog</a> <a href="/tags/blogger/" style="font-size: 10px;">blogger</a> <a href="/tags/blogspot/" style="font-size: 10px;">blogspot</a> <a href="/tags/books/" style="font-size: 10px;">books</a> <a href="/tags/boost/" style="font-size: 11.11px;">boost</a> <a href="/tags/bug/" style="font-size: 11.11px;">bug</a> <a href="/tags/build/" style="font-size: 11.11px;">build</a> <a href="/tags/builder/" style="font-size: 10px;">builder</a> <a href="/tags/certificate/" style="font-size: 11.11px;">certificate</a> <a href="/tags/chinese/" style="font-size: 10px;">chinese</a> <a href="/tags/code/" style="font-size: 10px;">code</a> <a href="/tags/comments/" style="font-size: 10px;">comments</a> <a href="/tags/console/" style="font-size: 10px;">console</a> <a href="/tags/cpp/" style="font-size: 18.89px;">cpp</a> <a href="/tags/cryptoapi/" style="font-size: 10px;">cryptoapi</a> <a href="/tags/dataset/" style="font-size: 10px;">dataset</a> <a href="/tags/deep-learning/" style="font-size: 10px;">deep learning</a> <a href="/tags/delphi/" style="font-size: 16.67px;">delphi</a> <a href="/tags/development/" style="font-size: 10px;">development</a> <a href="/tags/dll/" style="font-size: 11.11px;">dll</a> <a href="/tags/eclipse/" style="font-size: 10px;">eclipse</a> <a href="/tags/ethereum/" style="font-size: 14.44px;">ethereum</a> <a href="/tags/exception/" style="font-size: 10px;">exception</a> <a href="/tags/exe/" style="font-size: 10px;">exe</a> <a href="/tags/failure/" style="font-size: 10px;">failure</a> <a href="/tags/fast-insert/" style="font-size: 11.11px;">fast insert</a> <a href="/tags/faucet/" style="font-size: 10px;">faucet</a> <a href="/tags/ffmpeg/" style="font-size: 10px;">ffmpeg</a> <a href="/tags/ftp/" style="font-size: 10px;">ftp</a> <a href="/tags/geth/" style="font-size: 10px;">geth</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitalk/" style="font-size: 10px;">gitalk</a> <a href="/tags/github/" style="font-size: 16.67px;">github</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/google/" style="font-size: 13.33px;">google</a> <a href="/tags/hexo/" style="font-size: 11.11px;">hexo</a> <a href="/tags/highlight/" style="font-size: 10px;">highlight</a> <a href="/tags/howto/" style="font-size: 17.78px;">howto</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/indy/" style="font-size: 11.11px;">indy</a> <a href="/tags/ipv6/" style="font-size: 10px;">ipv6</a> <a href="/tags/itree/" style="font-size: 10px;">itree</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/lib/" style="font-size: 10px;">lib</a> <a href="/tags/light-plus/" style="font-size: 10px;">light-plus</a> <a href="/tags/links/" style="font-size: 10px;">links</a> <a href="/tags/lol/" style="font-size: 12.22px;">lol</a> <a href="/tags/mdns/" style="font-size: 10px;">mDNS</a> <a href="/tags/machine-learning/" style="font-size: 12.22px;">machine learning</a> <a href="/tags/max-connections/" style="font-size: 10px;">max_connections</a> <a href="/tags/mist/" style="font-size: 10px;">mist</a> <a href="/tags/mkdocs/" style="font-size: 10px;">mkdocs</a> <a href="/tags/mkv/" style="font-size: 10px;">mkv</a> <a href="/tags/mongo/" style="font-size: 12.22px;">mongo</a> <a href="/tags/mp4/" style="font-size: 10px;">mp4</a> <a href="/tags/my-ini/" style="font-size: 10px;">my.ini</a> <a href="/tags/mysql/" style="font-size: 11.11px;">mysql</a> <a href="/tags/nodejs/" style="font-size: 11.11px;">nodejs</a> <a href="/tags/oddeven/" style="font-size: 10px;">oddeven</a> <a href="/tags/openssl/" style="font-size: 11.11px;">openssl</a> <a href="/tags/openvpn/" style="font-size: 11.11px;">openvpn</a> <a href="/tags/pagination/" style="font-size: 10px;">pagination</a> <a href="/tags/pip/" style="font-size: 10px;">pip</a> <a href="/tags/plugin/" style="font-size: 10px;">plugin</a> <a href="/tags/pypi/" style="font-size: 10px;">pypi</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/random/" style="font-size: 10px;">random</a> <a href="/tags/reac/" style="font-size: 10px;">reac</a> <a href="/tags/rinkeby/" style="font-size: 11.11px;">rinkeby</a> <a href="/tags/rpi/" style="font-size: 11.11px;">rpi</a> <a href="/tags/search/" style="font-size: 11.11px;">search</a> <a href="/tags/smart-contract/" style="font-size: 13.33px;">smart contract</a> <a href="/tags/sqlite/" style="font-size: 11.11px;">sqlite</a> <a href="/tags/ssl/" style="font-size: 12.22px;">ssl</a> <a href="/tags/string/" style="font-size: 11.11px;">string</a> <a href="/tags/test/" style="font-size: 10px;">test</a> <a href="/tags/testing/" style="font-size: 10px;">testing</a> <a href="/tags/theme/" style="font-size: 10px;">theme</a> <a href="/tags/throttle/" style="font-size: 10px;">throttle</a> <a href="/tags/throttling/" style="font-size: 10px;">throttling</a> <a href="/tags/tinkerboard/" style="font-size: 11.11px;">tinkerboard</a> <a href="/tags/trick/" style="font-size: 10px;">trick</a> <a href="/tags/trie/" style="font-size: 11.11px;">trie</a> <a href="/tags/tuning/" style="font-size: 11.11px;">tuning</a> <a href="/tags/tutorial/" style="font-size: 11.11px;">tutorial</a> <a href="/tags/uncopyable/" style="font-size: 10px;">uncopyable</a> <a href="/tags/version/" style="font-size: 10px;">version</a> <a href="/tags/video/" style="font-size: 10px;">video</a> <a href="/tags/vpn/" style="font-size: 10px;">vpn</a> <a href="/tags/web-development-design/" style="font-size: 10px;">web development & design</a> <a href="/tags/web3/" style="font-size: 10px;">web3</a> <a href="/tags/windows/" style="font-size: 15.56px;">windows</a> <a href="/tags/wsl2/" style="font-size: 11.11px;">wsl2</a> <a href="/tags/youtube/" style="font-size: 10px;">youtube</a> <a href="/tags/zlib/" style="font-size: 10px;">zlib</a> <a href="/tags/%D0%B3%D1%81%D1%87/" style="font-size: 10px;">ГСЧ</a> <a href="/tags/%D0%BF%D0%B8%D1%81%D0%B0%D1%82%D0%B5%D0%BB%D0%B8/" style="font-size: 11.11px;">Писатели</a> <a href="/tags/%D1%81%D1%85%D0%B5%D0%BC%D0%B0%D1%82%D1%80%D0%BE%D0%BD/" style="font-size: 10px;">Схематрон</a> <a href="/tags/%D1%87%D0%B8%D1%82%D0%B0%D1%82%D0%B5%D0%BB%D0%B8/" style="font-size: 11.11px;">Читатели</a> <a href="/tags/%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC/" style="font-size: 12.22px;">алгоритм</a> <a href="/tags/%D0%B0%D0%BD%D0%B5%D0%BA%D0%B4%D0%BE%D1%82%D1%8B/" style="font-size: 11.11px;">анекдоты</a> <a href="/tags/%D0%B1%D0%B0%D0%B3/" style="font-size: 10px;">баг</a> <a href="/tags/%D0%B1%D0%BB%D0%BE%D0%B3/" style="font-size: 11.11px;">блог</a> <a href="/tags/%D0%B1%D0%BB%D0%BE%D0%B3%D0%B8/" style="font-size: 10px;">блоги</a> <a href="/tags/%D0%B1%D0%BE%D1%80/" style="font-size: 11.11px;">бор</a> <a href="/tags/%D0%B1%D1%8B%D1%81%D1%82%D1%80%D0%B0%D1%8F-%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B0/" style="font-size: 11.11px;">быстрая вставка</a> <a href="/tags/%D0%B2-%D0%BE%D0%B4%D0%BD%D1%83-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D1%83/" style="font-size: 10px;">в одну строку</a> <a href="/tags/%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE/" style="font-size: 10px;">видео</a> <a href="/tags/%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F/" style="font-size: 10px;">виртуальная функция</a> <a href="/tags/%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D0%BE-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D0%B0%D0%BB%D0%BE%D0%B2/" style="font-size: 10px;">дерево интервалов</a> <a href="/tags/%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D0%BE-%D0%BE%D1%82%D1%80%D0%B5%D0%B7%D0%BA%D0%BE%D0%B2/" style="font-size: 10px;">дерево отрезков</a> <a href="/tags/%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F/" style="font-size: 10px;">документация</a> <a href="/tags/%D0%B7%D0%B0%D1%80%D1%8F%D0%B4%D0%BA%D0%B0/" style="font-size: 10px;">зарядка</a> <a href="/tags/%D0%B8%D0%BA%D0%BE%D0%BD%D0%BA%D0%B8/" style="font-size: 10px;">иконки</a> <a href="/tags/%D0%B8%D1%81%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F/" style="font-size: 10px;">исключения</a> <a href="/tags/%D0%B9%D0%BE%D0%B3%D0%B0/" style="font-size: 10px;">йога</a> <a href="/tags/%D0%BA%D0%B8%D1%82%D0%B0%D0%B9%D1%81%D0%BA%D0%B8%D0%B9-%D1%8F%D0%B7%D1%8B%D0%BA/" style="font-size: 10px;">китайский язык</a> <a href="/tags/%D0%BA%D0%BD%D0%B8%D0%B3%D0%B8/" style="font-size: 10px;">книги</a> <a href="/tags/%D0%BA%D0%BE%D0%BC%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%80%D0%B8%D0%B8/" style="font-size: 10px;">комментарии</a> <a href="/tags/%D0%BA%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C/" style="font-size: 10px;">консоль</a> <a href="/tags/%D0%BA%D0%BE%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D0%BE%D1%80/" style="font-size: 10px;">конструктор</a> <a href="/tags/%D0%BA%D1%83%D0%BD%D0%B3%D1%84%D1%83/" style="font-size: 10px;">кунгфу</a> <a href="/tags/%D0%BC%D1%83%D0%B7%D1%8B%D0%BA%D0%B0/" style="font-size: 10px;">музыка</a> <a href="/tags/%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C/" style="font-size: 10px;">обновить</a> <a href="/tags/%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%BE%D1%88%D0%B8%D0%B1%D0%BE%D0%BA/" style="font-size: 10px;">обработка ошибок</a> <a href="/tags/%D0%BE%D0%B1%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5/" style="font-size: 10px;">обучение</a> <a href="/tags/%D0%BF%D0%B0%D1%80%D1%81%D0%B5%D1%80/" style="font-size: 11.11px;">парсер</a> <a href="/tags/%D0%BF%D0%B5%D1%80%D0%B5%D0%B5%D0%B7%D0%B4/" style="font-size: 10px;">переезд</a> <a href="/tags/%D0%BF%D0%BE%D0%B8%D1%81%D0%BA/" style="font-size: 10px;">поиск</a> <a href="/tags/%D0%BF%D0%BE%D0%BB%D0%B5%D0%B7%D0%BD%D1%8B%D0%B5-%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8/" style="font-size: 20px;">полезные ссылки</a> <a href="/tags/%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80/" style="font-size: 10px;">пример</a> <a href="/tags/%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0/" style="font-size: 10px;">проверка</a> <a href="/tags/%D1%81%D0%B2%D0%B0%D1%80%D0%BA%D0%B0/" style="font-size: 10px;">сварка</a> <a href="/tags/%D1%81%D0%BF%D0%BE%D1%80%D1%82/" style="font-size: 10px;">спорт</a> <a href="/tags/%D1%81%D1%82%D0%B8%D1%85%D0%B8/" style="font-size: 10px;">стихи</a> <a href="/tags/%D1%82%D0%B0%D0%B9%D1%86%D0%B7%D0%B8%D1%86%D1%8E%D0%B0%D0%BD%D1%8C/" style="font-size: 10px;">тайцзицюань</a> <a href="/tags/%D1%82%D1%80%D0%BE%D1%82%D1%82%D0%BB%D0%B8%D0%BD%D0%B3/" style="font-size: 10px;">троттлинг</a> <a href="/tags/%D1%85%D0%BE%D0%B1%D0%B1%D0%B8/" style="font-size: 11.11px;">хобби</a> <a href="/tags/%D1%86%D0%B8%D0%B3%D1%83%D0%BD/" style="font-size: 10px;">цигун</a> <a href="/tags/%D1%8E%D0%BC%D0%BE%D1%80/" style="font-size: 12.22px;">юмор</a>
  </div>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2025 Vitaly Yakovlev
  
</div>
<div class="clearfix"></div></footer>
  
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/jquery.imagesloaded.min.js"></script>


<script src="/js/gallery.js"></script>




<script src="/js/copy-code.js"></script>







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script src="/fancybox/jquery.fancybox.pack.js"></script>

<script>
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>
